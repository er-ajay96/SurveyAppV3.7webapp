<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Electrical Line Survey App</title>
    <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-image/leaflet-image.js"></script>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#e0f2fe 0,#ddd6fe 100%);min-height:100vh;padding:16px;padding-bottom:60px}.container{max-width:1200px;margin:0 auto}.card{background:#fff;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.1);padding:24px;margin-bottom:24px}.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:16px}.header-left{display:flex;align-items:center;gap:16px}.icon-box{background:#3b82f6;padding:12px;border-radius:12px;color:#fff;font-size:28px}.title-section h1{font-size:24px;color:#1f2937;margin-bottom:4px}.title-section p{font-size:14px;color:#6b7280}.distance-display{text-align:right}.distance-value{font-size:32px;font-weight:700;color:#3b82f6}.distance-label{font-size:14px;color:#6b7280}.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:20px}.stat-card{padding:16px;border-radius:12px}.stat-card.blue{background:#eff6ff}.stat-card.green{background:#f0fdf4}.stat-card.purple{background:#faf5ff}.stat-label{font-size:14px;color:#6b7280;margin-bottom:4px}.stat-value{font-size:24px;font-weight:700}.stat-value.blue{color:#3b82f6}.stat-value.green{color:#10b981}.stat-value.purple{color:#a855f7}.btn{padding:12px 24px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .2s;width:100%}.btn:disabled{background:#d1d5db!important;color:#9ca3af!important;cursor:not-allowed}.btn-green{background:#10b981;color:#fff}.btn-red{background:#ef4444;color:#fff}.btn-blue{background:#3b82f6;color:#fff}.btn-purple{background:#a855f7;color:#fff}select{width:100%;padding:14px 16px;border:1px solid #d1d5db;border-radius:12px;font-size:16px;font-weight:600;background-color:#fff;appearance:none;-webkit-appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236B7280'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 16px center;background-size:18px}.user-controls-mobile-grid{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid #e5e7eb}.user-info-stack{display:flex;flex-direction:column;gap:4px}.user-action-stack{display:flex;flex-direction:column;gap:4px;align-items:flex-end;text-align:right}#activeUsernameDisplay{font-weight:700;color:#10b981;font-size:16px}.user-action-stack a,.user-info-stack a{color:#3b82f6;text-decoration:none;font-weight:600;font-size:14px}.user-action-stack .logout-link{color:#ef4444}.map-container-wrapper-new{display:flex;flex-direction:column;gap:10px;margin-top:15px;margin-bottom:25px}.canvas-controls-panel-new{display:flex;justify-content:flex-start;align-items:center;gap:6px;margin-bottom:0}.zoom-btn-new{background:#3b82f6;color:#fff;border:none;width:30px;height:30px;border-radius:50%;font-size:18px;font-weight:700;line-height:1;box-shadow:0 2px 4px rgba(0,0,0,.1);transition:background .2s,transform .1s;padding:0}.zoom-btn-new:hover{background:#2563eb;transform:scale(1.05)}.reset-btn-new{background:#f3f4f6;color:#4b5563;border:1px solid #d1d5db;width:60px;padding:6px 4px;font-size:12px;font-weight:600;border-radius:8px}.reset-btn-new:hover{background:#e5e7eb}#mapCanvas{box-shadow:0 4px 12px rgba(0,0,0,.05);border:1px solid #d1d5db;border-radius:8px}select:focus{outline:0;border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,.25)}.selection-group{margin-bottom:20px;padding:15px;border:1px solid #e5e7eb;border-radius:12px;background:#f9fafb}.selection-group-title{display:block;font-weight:700;margin-bottom:12px;color:#1f2937;font-size:16px}.radio-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}.radio-group label{display:flex;align-items:center;padding:10px;border:2px solid #d1d5db;border-radius:8px;font-size:14px;cursor:pointer;background:#fff}.radio-group input[type=radio]{margin-right:8px;accent-color:#3b82f6}.marker-types{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-top:16px}.marker-btn{padding:16px;border:none;border-radius:12px;background:#f3f4f6;cursor:pointer;transition:all .2s;font-weight:600}.marker-btn:hover{background:#e5e7eb}.marker-btn.active{background:#3b82f6;color:#fff}.marker-icon{font-size:32px;margin-bottom:8px}.marker-label{font-size:14px}.button-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}canvas{width:100%;border:2px solid #e5e7eb;border-radius:12px}.markers-list{max-height:300px;overflow-y:auto}.marker-item{display:flex;align-items:center;justify-content:space-between;background:#f9fafb;padding:12px;border-radius:12px;margin-bottom:8px}.marker-info{display:flex;align-items:center;gap:12px}.marker-item-icon{font-size:24px}.marker-details h4{font-size:16px;color:#1f2937;margin-bottom:4px}.marker-coords{font-size:12px;color:#6b7280}.span-length{font-size:12px;font-weight:700;margin-left:8px}.delete-btn{background:#fee2e2;color:#ef4444;border:none;padding:8px;border-radius:8px;cursor:pointer}.delete-btn:hover{background:#fecaca}h2{font-size:18px;color:#1f2937;margin-bottom:16px}input[type=file]{display:none}label.btn{cursor:pointer}.text-input-group{margin-bottom:20px}.text-input-group label{display:block;font-weight:600;margin-bottom:8px;color:#374151}.text-input-group input{width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:16px}.footer-info{text-align:center;padding:20px 0;font-size:12px;color:#6b7280;margin-top:24px;border-top:1px solid #e5e7eb;background:rgba(255,255,255,.5);border-radius:12px;padding-top:10px;margin-top:30px}#leafletMap{height:500px;width:100%;border:2px solid #e5e7eb;border-radius:12px}@media (max-width:768px){.stats-grid{grid-template-columns:1fr}.marker-types{grid-template-columns:repeat(2,1fr)}.radio-grid{grid-template-columns:1fr}.button-grid{grid-template-columns:1fr}.header{flex-direction:column;text-align:center}.distance-display{text-align:center}}#authContainer{position:fixed;top:0;left:0;width:100%;min-height:100vh;display:block;overflow-y:auto;-webkit-overflow-scrolling:touch;background:linear-gradient(135deg,#e0f2fe 0,#ddd6fe 100%);padding-top:5vh;z-index:1000;padding:20px}.auth-logo{max-width:150px;height:auto;margin:0 auto 20px auto;display:block;border-radius:8px}.auth-card{background:#fff;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.1);padding:30px;width:100%;max-width:400px;text-align:center;margin:0 auto 20px auto;flex-shrink:0;padding-top:20px}.auth-card h2{font-size:24px;margin-bottom:20px;color:#1f2937}.auth-card input[type=password],.auth-card input[type=text]{width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;margin-bottom:15px;font-size:16px}.auth-card{margin-bottom:24px}.auth-card .btn{margin-top:10px;width:100%;font-size:18px}.auth-card p{margin-top:15px;font-size:14px}.form-section{display:none}.form-section.active{display:block}#messageDisplay{padding:10px;border-radius:8px;margin-bottom:15px;text-align:center;font-weight:600;display:none}.msg-success{background:#d1fae5;color:#059669}.msg-error{background:#fee2e2;color:#ef4444}.msg-info{background:#eff6ff;color:#3b82f6}#authContainer{position:fixed;inset:0;width:100%;min-height:100vh;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;display:block;background:linear-gradient(135deg,#e0f2fe 0,#ddd6fe 100%);padding:20px;padding-top:5vh;z-index:1000}.footer-buttons{position:fixed;bottom:0;left:0;width:100%;z-index:1000;border-radius:0;padding-top:16px;padding-bottom:16px;margin:0;box-shadow:0 -5px 15px rgba(0,0,0,.1)}body{padding-bottom:80px}
    </style>
</head>
<body>
<div id="app"></div>
<script>
    const __HTML__ =
    "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCIgLz4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIgLz4KICAgIDx0aXRsZT5FbGVjdHJpY2FsIExpbmUgU3VydmV5IFYzLjg8L3RpdGxlPgoKICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly91bnBrZy5jb20vbGVhZmxldC9kaXN0L2xlYWZsZXQuY3NzIiAvPgoKPC9oZWFkPgo8Ym9keT4KCjxkaXYgaWQ9ImF1dGhDb250YWluZXIiPgogIDxkaXYgY2xhc3M9ImF1dGgtY2FyZCI+CiAgICA8aW1nIHNyYz0iaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2VyLWFqYXk5Ni9TdXJ2ZXlBcHBWMS4wLjAvcmVmcy9oZWFkcy9tYWluL2ljb24ucG5nIiBhbHQ9IkFwcCBMb2dvIiBjbGFzcz0iYXV0aC1sb2dvIj4KICAgIDxkaXYgaWQ9Im1lc3NhZ2VEaXNwbGF5Ij48L2Rpdj4KICAgIDxkaXYgaWQ9ImxvZ2luRm9ybSIgY2xhc3M9ImZvcm0tc2VjdGlvbiBhY3RpdmUiPgogICAgICAgIDxoMj5Vc2VyIExvZ2luIFN1cnZleUFwcCBWMy44PC9oMj4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJsb2dpblVzZXJuYW1lIiBwbGFjZWhvbGRlcj0iVW5pcXVlIFVzZXJuYW1lIChVc2VkIGFzIEVtYWlsIGluIEJhY2tlbmQpIiByZXF1aXJlZD4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0ibG9naW5QYXNzd29yZCIgcGxhY2Vob2xkZXI9IlBhc3N3b3JkIiByZXF1aXJlZD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1ncmVlbiIgb25jbGljaz0ibG9naW5Vc2VyKCkiPkxvZ2luPC9idXR0b24+CiAgICAgICAgICAgIDxwPk5ldyBVc2VyPyA8YSBocmVmPSIjIiBvbmNsaWNrPSJzaG93Rm9ybSgncmVnaXN0ZXJSZXF1ZXN0Rm9ybScpIiBzdHlsZT0iY29sb3I6IzNiODJmNjsiPlJlZ2lzdGVyPC9hPjwvcD4KICAgICAgICAgICAgPHA+Rm9yZ290IFBhc3N3b3JkPyA8YSBocmVmPSIjIiBvbmNsaWNrPSJzaG93Rm9ybSgnZm9yZ290Rm9ybScpIiBzdHlsZT0iY29sb3I6I2VmNDQ0NDsiPlJlc2V0PC9hPjwvcD4KICAgICAgICA8L2Rpdj4KCiAgICAgIDxkaXYgaWQ9InJlZ2lzdGVyUmVxdWVzdEZvcm0iIGNsYXNzPSJmb3JtLXNlY3Rpb24iPgogICAgPGgyPk5ldyBVc2VyIFJlZ2lzdHJhdGlvbjwvaDI+CgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJyZWdOYW1lIiBwbGFjZWhvbGRlcj0iRnVsbCBOYW1lIiByZXF1aXJlZD4KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icmVnTW9iaWxlIiBwbGFjZWhvbGRlcj0iTW9iaWxlIE51bWJlciIgcmVxdWlyZWQ+CgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJyZWdpc3RlclVzZXJuYW1lIiBwbGFjZWhvbGRlcj0iVW5pcXVlIFVzZXJuYW1lIChFbWFpbCkiIHJlcXVpcmVkPgogICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0icmVnaXN0ZXJQYXNzd29yZCIgcGxhY2Vob2xkZXI9IlBhc3N3b3JkIChNaW4gNiBjaGFycykiIHJlcXVpcmVkPgogICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0icmVnaXN0ZXJDb25maXJtUGFzc3dvcmQiIHBsYWNlaG9sZGVyPSJDb25maXJtIFBhc3N3b3JkIiByZXF1aXJlZD4KCiAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InJlZ1BheW1lbnRJZCIgcGxhY2Vob2xkZXI9IlBheW1lbnQgUmVmZXJlbmNlIC8gVVBJIFR4biBJRCIgcmVxdWlyZWQ+CiAgICA8IS0tIFBheW1lbnQgSW5mbyAtLT4KICAgIDxwIHN0eWxlPSJtYXJnaW4tdG9wOjEycHg7Ij4KICAgICAgICA8YSBocmVmPSIjIiBvbmNsaWNrPSJvcGVuUGF5bWVudFBvcHVwKCkiPvCfkrMgVmlldyBQYXltZW50IE9wdGlvbiB0byBEZXZlbG9wZXIgPC9hPgogICAgPC9wPgoKICAgIDwhLS0gVXBsb2FkIFBheW1lbnQgUHJvb2YgLS0+CiAgICA8bGFiZWwgY2xhc3M9ImJ0biBidG4tYmx1ZSIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsiPgogICAgICAgIPCfk6QgVXBsb2FkIFBheW1lbnQgU2NyZWVuc2hvdAogICAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBpZD0icmVnUGF5bWVudFByb29mIiBhY2NlcHQ9ImltYWdlLyoiPgogICAgPC9sYWJlbD4KCiAgCiAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWdyZWVuIiBvbmNsaWNrPSJzdWJtaXRTaWdudXBXaXRoUGF5bWVudCgpIj4KICAgICAgICBTdWJtaXQgUmVnaXN0cmF0aW9uICYgUGF5bWVudAogICAgPC9idXR0b24+CgogICAgPHA+QmFjayB0byA8YSBocmVmPSIjIiBvbmNsaWNrPSJzaG93Rm9ybSgnbG9naW5Gb3JtJykiPkxvZ2luPC9hPjwvcD4KPC9kaXY+CgoKICAgICAgICA8ZGl2IGlkPSJvdHBWZXJpZmljYXRpb25Gb3JtIiBjbGFzcz0iZm9ybS1zZWN0aW9uIj4KICAgICAgICAgICAgPGgyPk9UUCBWZXJpZmljYXRpb248L2gyPgogICAgICAgICAgICA8cCBpZD0ib3RwUHJvbXB0IiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTVweDsiPkVudGVyIHRoZSB1bmlxdWUgT1RQIHJlY2VpdmVkIG9uIHRoZSBkZXZlbG9wZXIncyBlbWFpbC48L3A+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ib3RwQ29kZSIgcGxhY2Vob2xkZXI9IkVudGVyIE9UUCIgcmVxdWlyZWQ+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tYmx1ZSIgb25jbGljaz0idmVyaWZ5UmVnaXN0cmF0aW9uT1RQKCkiPkNvbXBsZXRlIFJlZ2lzdHJhdGlvbjwvYnV0dG9uPgogICAgICAgICAgICA8cD5Ob3QgcmlnaHQgbm93PyA8YSBocmVmPSIjIiBvbmNsaWNrPSJzaG93Rm9ybSgnbG9naW5Gb3JtJykiIHN0eWxlPSJjb2xvcjojNmI3MjgwOyI+Q2FuY2VsPC9hPjwvcD4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBpZD0iZm9yZ290Rm9ybSIgY2xhc3M9ImZvcm0tc2VjdGlvbiI+CiAgICAgICAgICAgIDxoMj5Gb3Jnb3QgUGFzc3dvcmQ8L2gyPgogICAgICAgICAgICA8cCBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTVweDsiPkVudGVyIHlvdXIgVXNlcm5hbWUvRW1haWwgdG8gcmVxdWVzdCBhIHBhc3N3b3JkIHJlc2V0IE9UUC48L3A+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZm9yZ290VXNlcm5hbWUiIHBsYWNlaG9sZGVyPSJZb3VyIFVuaXF1ZSBVc2VybmFtZSAoRW1haWwpIiByZXF1aXJlZD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1yZWQiIG9uY2xpY2s9InJlcXVlc3RQYXNzd29yZFJlc2V0T1RQKCkiPlJlcXVlc3QgUmVzZXQgT1RQPC9idXR0b24+CiAgICAgICAgICAgIDxwPkJhY2sgdG8gPGEgaHJlZj0iIyIgb25jbGljaz0ic2hvd0Zvcm0oJ2xvZ2luRm9ybScpIiBzdHlsZT0iY29sb3I6IzZiNzI4MDsiPkxvZ2luPC9hPjwvcD4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBpZD0ic2V0TmV3UGFzc3dvcmRGb3JtIiBjbGFzcz0iZm9ybS1zZWN0aW9uIj4KICAgICAgICAgICAgPGgyPlNldCBOZXcgUGFzc3dvcmQ8L2gyPgogICAgICAgICAgICA8cCBpZD0icmVzZXRPdHBQcm9tcHQiIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxNXB4OyI+RW50ZXIgdGhlIFJlc2V0IE9UUCBhbmQgeW91ciBuZXcgcGFzc3dvcmQuPC9wPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InJlc2V0T3RwQ29kZSIgcGxhY2Vob2xkZXI9IkVudGVyIFJlc2V0IE9UUCIgcmVxdWlyZWQ+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9Im5ld1Bhc3N3b3JkIiBwbGFjZWhvbGRlcj0iTmV3IFBhc3N3b3JkIChNaW4gNiBjaGFycykiIHJlcXVpcmVkPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJjb25maXJtTmV3UGFzc3dvcmQiIHBsYWNlaG9sZGVyPSJDb25maXJtIE5ldyBQYXNzd29yZCIgcmVxdWlyZWQ+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcmVkIiBvbmNsaWNrPSJzdWJtaXROZXdQYXNzd29yZCgpIj5TZXQgTmV3IFBhc3N3b3JkPC9idXR0b24+CiAgICAgICAgICAgIDxwPkJhY2sgdG8gPGEgaHJlZj0iIyIgb25jbGljaz0ic2hvd0Zvcm0oJ2xvZ2luRm9ybScpIiBzdHlsZT0iY29sb3I6IzZiNzI4MDsiPkxvZ2luPC9hPjwvcD4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBpZD0iY2hhbmdlUGFzc3dvcmRGb3JtIiBjbGFzcz0iZm9ybS1zZWN0aW9uIj4KICAgICAgICAgICAgPGgyPkNoYW5nZSBQYXNzd29yZDwvaDI+CiAgICAgICAgICAgIDxwIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxNXB4OyI+RW50ZXIgeW91ciBvbGQgYW5kIG5ldyBwYXNzd29yZHMuPC9wPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJvbGRQYXNzd29yZCIgcGxhY2Vob2xkZXI9Ik9sZCBQYXNzd29yZCIgcmVxdWlyZWQ+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9Im5ld0NoYW5nZVBhc3N3b3JkIiBwbGFjZWhvbGRlcj0iTmV3IFBhc3N3b3JkIChNaW4gNiBjaGFycykiIHJlcXVpcmVkPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJjb25maXJtTmV3Q2hhbmdlUGFzc3dvcmQiIHBsYWNlaG9sZGVyPSJDb25maXJtIE5ldyBQYXNzd29yZCIgcmVxdWlyZWQ+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHVycGxlIiBvbmNsaWNrPSJjaGFuZ2VQYXNzd29yZCgpIj5DaGFuZ2UgUGFzc3dvcmQ8L2J1dHRvbj4KICAgICAgICAgICAgPHA+QmFjayB0byA8YSBocmVmPSIjIiBvbmNsaWNrPSJoaWRlQ2hhbmdlUGFzc3dvcmRGb3JtKCkiIHN0eWxlPSJjb2xvcjojNmI3MjgwOyI+TWFpbiBBcHA8L2E+PC9wPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICAKICAgIDxkaXYgY2xhc3M9ImZvb3Rlci1pbmZvIj4KICAgICAgICA8cD5FbGVjdHJpY2FsIExpbmUgU3VydmV5IEFwcCB8IFZlcnNpb24gMy44IChNZXJnZWQpPC9wPgogICAgICAgIDxwPkRldmVsb3BlZCBmb3IgUHJvZmVzc2lvbmFsIEZpZWxkIFVzZSA8L3A+CiAgICAgICAgPHA+Rm9yIFN1cHBvcnQ6ICs5MS03MDE4Ny01NjE4Mi9FckFqYXkuSFBTRUJAZ21haWwuY29tPC9wPgogICAgICAgIDxwPsKpIDIwMjXigJMyNiBFckFqYXkgS3VtYXIgLiBBbGwgcmlnaHRzIHJlc2VydmVkLjwvcD4KICAgIDwvZGl2PgogICAgCjwvZGl2Pgo8ZGl2IGNsYXNzPSJjb250YWluZXIiIGlkPSJtYWluQXBwQ29udGFpbmVyIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgICA8ZGl2IGNsYXNzPSJjYXJkIj4KICAgICAgICAKICAgICA8ZGl2IGlkPSJ1c2VyQ29udHJvbHNfTW9iaWxlIiBjbGFzcz0idXNlci1jb250cm9scy1tb2JpbGUtZ3JpZCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InVzZXItaW5mby1zdGFjayI+CiAgICAgICAgICAgICAgICA8c3BhbiBpZD0iYWN0aXZlVXNlcm5hbWVEaXNwbGF5Ij4tLTwvc3Bhbj4KICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIG9uY2xpY2s9InNob3dDaGFuZ2VQYXNzd29yZEZvcm0oKSI+8J+UkSBDaGFuZ2UgUGFzc3dvcmQ8L2E+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ1c2VyLWFjdGlvbi1zdGFjayI+CiAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiBvbmNsaWNrPSJsb2dvdXQoKSIgY2xhc3M9ImxvZ291dC1saW5rIj5Mb2cgT3V0PC9hPgogICAgICAgICAgICAgICAgPGEgCiAgICAgICAgICAgICAgICAgICAgaHJlZj0iIyIgCiAgICAgICAgICAgICAgICAgICAgb25jbGljaz0ib3Blbk1hbnVhbFBvcHVwKCdodHRwczovL2RyaXZlLmdvb2dsZS5jb20vZmlsZS9kLzFBdFVfVS1RUklxaksxbnBzSXlkSG9maWh6Yk1YT0Q1Si92aWV3P3VzcD1kcml2ZV9saW5rJyk7IHJldHVybiBmYWxzZTsiIAogICAgICAgICAgICAgICAgICAgIGNsYXNzPSJtYW51YWwtbGluayIKICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgICDwn5OWIFVzZXIgTWFudWFsCiAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJoZWFkZXIiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJoZWFkZXItbGVmdCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uLWJveCI+4pqhPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0aXRsZS1zZWN0aW9uIj4KICAgICAgICAgICAgICAgICAgICA8aDE+RWxlY3RyaWNhbCBMaW5lIFN1cnZleSBWMy44IDwvaDE+CiAgICAgICAgICAgICAgICAgICAgPHA+R1BTLWJhc2VkIGxpbmUgdHJhY2tpbmcgJiBtYXBwaW5nPC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGlzdGFuY2UtZGlzcGxheSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkaXN0YW5jZS12YWx1ZSIgaWQ9InRvdGFsRGlzdGFuY2UiPjAuMG08L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRpc3RhbmNlLWxhYmVsIj5Ub3RhbCBEaXN0YW5jZSAoU3RyYWlnaHQgTGluZSk8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9InN0YXRzLWdyaWQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWNhcmQgYmx1ZSI+PGRpdiBjbGFzcz0ic3RhdC1sYWJlbCI+UG9pbnRzPC9kaXY+PGRpdiBjbGFzcz0ic3RhdC12YWx1ZSBibHVlIiBpZD0icG9pbnRzQ291bnQiPjA8L2Rpdj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1jYXJkIGdyZWVuIj48ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5NYXJrZXJzPC9kaXY+PGRpdiBjbGFzcz0ic3RhdC12YWx1ZSBncmVlbiIgaWQ9Im1hcmtlcnNDb3VudCI+MDwvZGl2PjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWNhcmQgcHVycGxlIj48ZGl2IGNsYXNzPSJzdGF0LWxhYmVsIj5BY2N1cmFjeTwvZGl2PjxkaXYgY2xhc3M9InN0YXQtdmFsdWUgcHVycGxlIiBpZD0iYWNjdXJhY3kiPi0tPC9kaXY+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJjYXJkIj4KICAgICAgICA8aDI+Q29udHJvbHM8L2gyPgoKICAgICAgICA8ZGl2IGNsYXNzPSJ0ZXh0LWlucHV0LWdyb3VwIj4KICAgICAgICAgICAgPGxhYmVsIGZvcj0ic2l0ZU5hbWVJbnB1dCI+U2l0ZSBOYW1lPC9sYWJlbD4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzaXRlTmFtZUlucHV0IiB2YWx1ZT0iTmV3IFN1cnZleSBTaXRlIiBvbmlucHV0PSJ1cGRhdGVTaXRlTmFtZSh0aGlzLnZhbHVlKSI+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9InNlbGVjdGlvbi1ncm91cCI+CiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0ic2VsZWN0aW9uLWdyb3VwLXRpdGxlIj4wLiBTZWxlY3QgU3VydmV5IFR5cGU8L2xhYmVsPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyYWRpby1ncmlkIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJhZGlvLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJzdXJ2ZXlUeXBlIiB2YWx1ZT0icHJvcG9zZWQiIG9uY2hhbmdlPSJ1cGRhdGVTdXJ2ZXlUeXBlKHRoaXMudmFsdWUpIiBjaGVja2VkPjxzcGFuPlByb3Bvc2VkIExpbmUgU3VydmV5PC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJhZGlvLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJzdXJ2ZXlUeXBlIiB2YWx1ZT0iZXhpc3RpbmciIG9uY2hhbmdlPSJ1cGRhdGVTdXJ2ZXlUeXBlKHRoaXMudmFsdWUpIj48c3Bhbj5FeGlzdGluZyBMaW5lIFN1cnZleTwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWdyZWVuIiBpZD0ic3RhcnRCdG4iIG9uY2xpY2s9InN0YXJ0VHJhY2tpbmcoKSI+4pa2IFN0YXJ0IFRyYWNraW5nPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1yZWQiIGlkPSJzdG9wQnRuIiBvbmNsaWNrPSJzdG9wVHJhY2tpbmcoKSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPuKPuSBTdG9wIFRyYWNraW5nPC9idXR0b24+CiAgICAgICAgPGRpdiBpZD0iZ3BzU3RhdHVzIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4O2NvbG9yOiNmOTczMTY7Zm9udC13ZWlnaHQ6NjAwOyI+PC9kaXY+CgogICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6MjBweDsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZWxlY3Rpb24tZ3JvdXAiPgogICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJzZWxlY3Rpb24tZ3JvdXAtdGl0bGUiPjEuIFNlbGVjdCBMaW5lIFR5cGU8L2xhYmVsPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmFkaW8tZ3JpZCIgaWQ9ImxpbmVUeXBlU2VsZWN0aW9uIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyYWRpby1ncm91cCI+PGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0ibGluZVR5cGUiIHZhbHVlPSJIVF8zM2tWIiBkYXRhLW1haW4tdHlwZT0iSFQiIG9uY2hhbmdlPSJ1cGRhdGVMaW5lU3VidHlwZSh0aGlzLnZhbHVlKSI+PHNwYW4+MzMgS1YgSFQgTGluZTwvc3Bhbj48L2xhYmVsPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJhZGlvLWdyb3VwIj48bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJsaW5lVHlwZSIgdmFsdWU9IkhUXzIya1YiIGRhdGEtbWFpbi10eXBlPSJIVCIgb25jaGFuZ2U9InVwZGF0ZUxpbmVTdWJ0eXBlKHRoaXMudmFsdWUpIj48c3Bhbj4yMiBrViBIVCBMaW5lPC9zcGFuPjwvbGFiZWw+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmFkaW8tZ3JvdXAiPjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImxpbmVUeXBlIiB2YWx1ZT0iSFRfMTFrViIgZGF0YS1tYWluLXR5cGU9IkhUIiBvbmNoYW5nZT0idXBkYXRlTGluZVN1YnR5cGUodGhpcy52YWx1ZSkiIGNoZWNrZWQ+PHNwYW4+MTEgS1YgSFQgTGluZTwvc3Bhbj48L2xhYmVsPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJhZGlvLWdyb3VwIj48bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJsaW5lVHlwZSIgdmFsdWU9IkxUXzNQIiBkYXRhLW1haW4tdHlwZT0iTFQiIG9uY2hhbmdlPSJ1cGRhdGVMaW5lU3VidHlwZSh0aGlzLnZhbHVlKSI+PHNwYW4+My1waGFzZSBMVCBMaW5lPC9zcGFuPjwvbGFiZWw+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmFkaW8tZ3JvdXAiPjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImxpbmVUeXBlIiB2YWx1ZT0iTFRfMlAiIGRhdGEtbWFpbi10eXBlPSJMVCIgb25jaGFuZ2U9InVwZGF0ZUxpbmVTdWJ0eXBlKHRoaXMudmFsdWUpIj48c3Bhbj4yLXBoYXNlIExUIExpbmU8L3NwYW4+PC9sYWJlbD48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyYWRpby1ncm91cCI+PGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0ibGluZVR5cGUiIHZhbHVlPSJMVF8xUCIgZGF0YS1tYWluLXR5cGU9IkxUIiBvbmNoYW5nZT0idXBkYXRlTGluZVN1YnR5cGUodGhpcy52YWx1ZSkiPjxzcGFuPjEtcGhhc2UgTFQgTGluZTwvc3Bhbj48L2xhYmVsPjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZWxlY3Rpb24tZ3JvdXAiPgogICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJzZWxlY3Rpb24tZ3JvdXAtdGl0bGUiIGZvcj0iY29uZHVjdG9yVHlwZVNlbGVjdCI+CiAgICAgICAgICAgICAgICAgICAgMi4gU2VsZWN0IENvbmR1Y3RvciBUeXBlCiAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iY29uZHVjdG9yVHlwZVNlbGVjdCIgb25jaGFuZ2U9InVwZGF0ZUNvbmR1Y3RvclR5cGUodGhpcy52YWx1ZSkiPjwvc2VsZWN0PgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNlbGVjdGlvbi1ncm91cCI+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9InNlbGVjdGlvbi1ncm91cC10aXRsZSI+CiAgICAgICAgICAgICAgICAgICAgMy4gU2VsZWN0IE1hcmtlciBUeXBlCiAgICAgICAgICAgICAgICA8L2xhYmVsPgoKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1hcmtlci10eXBlcyIgaWQ9Im1hcmtlclR5cGVTZWxlY3Rpb24iPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KCgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWJsdWUiIGlkPSJhZGRNYXJrZXJCdG4iIG9uY2xpY2s9ImFkZE1hcmtlcigpIiBkaXNhYmxlZCBzdHlsZT0ibWFyZ2luLXRvcDoxNnB4OyI+CiAgICAgICAgICAgICAgICDwn5ONIEFkZCA8c3BhbiBpZD0ibWFya2VyVHlwZUxhYmVsIj5Qb2xlPC9zcGFuPiBhdCBDdXJyZW50IExvY2F0aW9uCiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+IAogICAKICAgPGRpdiBjbGFzcz0iY2FyZCI+CiAgICA8aDI+U3VydmV5IE1hcCAoU2NoZW1hdGljIFZpZXcpPC9oMj4KICAgIAogICAgPGRpdiBjbGFzcz0ibWFwLWNvbnRhaW5lci13cmFwcGVyLW5ldyI+IAogICAgICAgIAogICAgICAgIDxkaXYgY2xhc3M9ImNhbnZhcy1jb250cm9scy1wYW5lbC1uZXciPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gem9vbS1idG4tbmV3IiBvbmNsaWNrPSJ6b29tSW5DYW52YXMoKSI+CiAgICAgICAgICAgICAgICArCiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gem9vbS1idG4tbmV3IiBvbmNsaWNrPSJ6b29tT3V0Q2FudmFzKCkiPgogICAgICAgICAgICAgICAgLQogICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIHJlc2V0LWJ0bi1uZXciIG9uY2xpY2s9InJlc2V0Q2FudmFzWm9vbSgpIj4KICAgICAgICAgICAgICAgIFJlc2V0CiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgoKICAgICAgICA8Y2FudmFzIGlkPSJtYXBDYW52YXMiIHdpZHRoPSI4MDAiIGhlaWdodD0iNTAwIj48L2NhbnZhcz4gCiAgICA8L2Rpdj4KICAgIAogICAgPC9kaXY+CgogICAgPGRpdiBjbGFzcz0iY2FyZCI+CiAgICAgICAgPGgyPkludGVyYWN0aXZlIE1hcCBWaWV3IChMZWFmbGV0L09TTSk8L2gyPgogICAgICAgIDxkaXYgaWQ9ImxlYWZsZXRNYXAiPjwvZGl2PgogICAgPC9kaXY+CgogICAgPGRpdiBjbGFzcz0iY2FyZCI+CiAgICAgICAgPGgyPkFjdGlvbnM8L2gyPgogICAgICAgIDxkaXYgY2xhc3M9ImJ1dHRvbi1ncmlkIj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1ncmVlbiIgb25jbGljaz0ic2F2ZVRvSlNPTigpIj7wn5K+IFNhdmUgSlNPTjwvYnV0dG9uPgogICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImJ0biBidG4tYmx1ZSI+8J+TpCBMb2FkIEpTT048aW5wdXQgdHlwZT0iZmlsZSIgYWNjZXB0PSIuanNvbiIgb25jaGFuZ2U9ImxvYWRGcm9tSlNPTihldmVudCkiPjwvbGFiZWw+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHVycGxlIiBvbmNsaWNrPSJleHBvcnRUb1BORygpIj7wn5OEIEV4cG9ydCBNYWluIFBORyAoQTMpPC9idXR0b24+CiAgICAgICAgICAgIAogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWJsdWUiIG9uY2xpY2s9ImV4cG9ydFRvQ1NWKCkiPvCfk4ogRXhwb3J0IENTVjwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXJlZCIgb25jbGljaz0iY2xlYXJBbGwoKSI+8J+Xke+4jyBDbGVhciBBbGw8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDxkaXYgY2xhc3M9ImNhcmQiIGlkPSJtYXJrZXJzTGlzdENhcmQiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICAgICAgICA8aDI+TWFya2VkIExvY2F0aW9uczwvaDI+CiAgICAgICAgPGRpdiBjbGFzcz0ibWFya2Vycy1saXN0IiBpZD0ibWFya2Vyc0xpc3QiPjwvZGl2PgogICAgPC9kaXY+CiAgICAKICAgIDxkaXYgY2xhc3M9ImZvb3Rlci1pbmZvIiBzdHlsZT0iYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNWU3ZWI7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyI+CiAgICAgICAgPHA+RWxlY3RyaWNhbCBMaW5lIFN1cnZleSBBcHAgfCBWZXJzaW9uIDMuOCAoTWVyZ2VkKTwvcD4KICAgICAgICA8cD5EZXZlbG9wZWQgZm9yIFByb2Zlc3Npb25hbCBGaWVsZCBVc2UgfCBGb3IgU3VwcG9ydDogKzkxLTcwMTg3LTU2MTgyL0VyQWpheS5IUFNFQkBnbWFpbC5jb208L3A+CiAgICAgICAgPHA+wqkgMjAyNeKAkzI2IEVyQWpheSBLdW1hciAuIEFsbCByaWdodHMgcmVzZXJ2ZWQuPC9wPgogICAgPC9kaXY+CjwvZGl2PgoKPGRpdiBpZD0icGF5bWVudFBvcHVwIiBzdHlsZT0iZGlzcGxheTpub25lOyBwb3NpdGlvbjpmaXhlZDsgaW5zZXQ6MDsKYmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNik7IHotaW5kZXg6MjAwMDsiPgoKICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiNmZmY7IG1heC13aWR0aDozNTBweDsgbWFyZ2luOjEwJSBhdXRvOwogIHBhZGRpbmc6MjBweDsgYm9yZGVyLXJhZGl1czoxMnB4OyB0ZXh0LWFsaWduOmNlbnRlcjsiPgoKICAgIDxoMz5MaWZldGltZSBBcHAgUHVyY2hhc2U8L2gzPgogICAgPHAgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7IGNvbG9yOiMxMGI5ODE7Ij4KICAgICAgICDigrkgNzQ5IC8tIE9OTFkgKExpZmV0aW1lIEFjY2VzcykKICAgIDwvcD4KCiAgICA8cD4KICAgICAgICBQYXkgdmlhIFVQSToKICAgICAgICA8YnI+CiAgICAgICAgPGIgaWQ9InVwaUlkVGV4dCI+ZXIuYWpheTk2QG9raWNpY2liYW5rPC9iPgogICAgPC9wPgoKICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tYmx1ZSIgb25jbGljaz0iY29weVVQSSgpIj4KICAgICAgICDwn5OLIENvcHkgVVBJIElECiAgICA8L2J1dHRvbj4KCiAgICA8cCBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4OyI+U2NhbiBRUjo8L3A+CiAgICA8aW1nCiAgICAgIHNyYz0iaHR0cHM6Ly9naXRodWIuY29tL2VyLWFqYXk5Ni9TdXJ2ZXlBcHBWMS4wLjAvYmxvYi9tYWluL0dvb2dsZVBheV9RUi5wbmc/cmF3PXRydWUiCiAgICAgIHN0eWxlPSJ3aWR0aDoyMDBweDtib3JkZXI6MXB4IHNvbGlkICNkZGQ7Ym9yZGVyLXJhZGl1czo4cHg7IgogICAgPgoKICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcmVkIiBzdHlsZT0ibWFyZ2luLXRvcDoxNXB4OyIKICAgICAgb25jbGljaz0iY2xvc2VQYXltZW50UG9wdXAoKSI+Q2xvc2U8L2J1dHRvbj4KICA8L2Rpdj4KPC9kaXY+Cgo8L2JvZHk+CjwvaHRtbD4=";

    function decodeUTF8Base64(b64) {
      return new TextDecoder("utf-8").decode(
        Uint8Array.from(atob(b64), c => c.charCodeAt(0))
      );
    }
    document.getElementById("app").innerHTML = decodeUTF8Base64(__HTML__);
    const a0_0x962dcf=a0_0x119e;(function(_0x1fc44f,_0x385945){const _0x4b1791=a0_0x119e,_0x24b3ee=_0x1fc44f();while(!![]){try{const _0x368e79=-parseInt(_0x4b1791(0x1be))/0x1+parseInt(_0x4b1791(0x21c))/0x2*(parseInt(_0x4b1791(0x15f))/0x3)+parseInt(_0x4b1791(0x1ad))/0x4+parseInt(_0x4b1791(0x2a8))/0x5*(-parseInt(_0x4b1791(0x2a9))/0x6)+parseInt(_0x4b1791(0x177))/0x7+-parseInt(_0x4b1791(0x1a8))/0x8+parseInt(_0x4b1791(0x14c))/0x9;if(_0x368e79===_0x385945)break;else _0x24b3ee['push'](_0x24b3ee['shift']());}catch(_0x43e6ab){_0x24b3ee['push'](_0x24b3ee['shift']());}}}(a0_0x24d3,0xd79a7),src='https://unpkg.com/leaflet/dist/leaflet.js',src='https://unpkg.com/leaflet-image/leaflet-image.js');const SCRIPT_URL='https://script.google.com/macros/s/AKfycbyRAet_QK-JSDwEH_PbhzyM_BPDTk7og6578GOWDmgBaz2ddE8D4UE533KLSZ2XUG_2_g/exec',DEVELOPER_EMAIL='ErAjay.HPSEB@gmail.com',authContainer=document[a0_0x962dcf(0x1c9)](a0_0x962dcf(0x137)),mainAppContainer=document[a0_0x962dcf(0x1c9)](a0_0x962dcf(0x236)),messageDisplay=document[a0_0x962dcf(0x1c9)](a0_0x962dcf(0x225)),activeUsernameDisplay=document[a0_0x962dcf(0x1c9)](a0_0x962dcf(0x2a6));let currentSignupUsername='',currentSignupPassword='',currentResetUsername='';function openPaymentPopup(){const _0xbed361=a0_0x962dcf;document['getElementById'](_0xbed361(0x1b8))[_0xbed361(0x187)][_0xbed361(0x1bf)]=_0xbed361(0x162);}function closePaymentPopup(){const _0x371002=a0_0x962dcf;document['getElementById'](_0x371002(0x1b8))[_0x371002(0x187)][_0x371002(0x1bf)]=_0x371002(0x190);}function copyUPI(){const _0x5b13b3=a0_0x962dcf,_0x20f848=document['getElementById'](_0x5b13b3(0x205))[_0x5b13b3(0x214)];navigator['clipboard'][_0x5b13b3(0x227)](_0x20f848),alert(_0x5b13b3(0x263));}async function submitSignupWithPayment(){const _0x4e348c=a0_0x962dcf,_0x5951fd=document['getElementById']('regName')['value'][_0x4e348c(0x246)](),_0x5c891d=document[_0x4e348c(0x1c9)](_0x4e348c(0x1f6))[_0x4e348c(0x24f)]['trim'](),_0x412bab=document[_0x4e348c(0x1c9)](_0x4e348c(0x1ff))[_0x4e348c(0x24f)][_0x4e348c(0x246)](),_0x17038b=document[_0x4e348c(0x1c9)](_0x4e348c(0x279))[_0x4e348c(0x24f)],_0xb4f9fc=document['getElementById'](_0x4e348c(0x1aa))[_0x4e348c(0x24f)],_0x430811=document[_0x4e348c(0x1c9)](_0x4e348c(0x1c3))[_0x4e348c(0x24f)][_0x4e348c(0x246)](),_0x123185=document['getElementById'](_0x4e348c(0x28e));if(!_0x5951fd||!_0x5c891d||!_0x412bab||!_0x17038b||!_0xb4f9fc||!_0x430811)return showMessage(_0x4e348c(0x15d),_0x4e348c(0x206));if(_0x17038b!==_0xb4f9fc)return showMessage(_0x4e348c(0x1b5),_0x4e348c(0x206));if(!_0x123185[_0x4e348c(0x27d)][_0x4e348c(0x241)])return showMessage('Upload\x20payment\x20screenshot',_0x4e348c(0x206));const _0x5f4f46=_0x123185[_0x4e348c(0x27d)][0x0],_0x435487=new FileReader();_0x435487['onload']=async function(){const _0x3e1fd4=_0x4e348c,_0x1039f0=_0x435487[_0x3e1fd4(0x1f2)]['split'](',')[0x1],_0x3fc4e7={'action':_0x3e1fd4(0x1a0),'email':_0x412bab,'password':_0x17038b,'name':_0x5951fd,'mobile':_0x5c891d,'paymentId':_0x430811,'paymentProofData':_0x1039f0,'paymentProofFileName':_0x5f4f46[_0x3e1fd4(0x2b6)]},_0xd66f26=await apiCall(_0x3fc4e7,_0x3e1fd4(0x1e9));_0xd66f26&&(currentSignupUsername=_0x412bab,document[_0x3e1fd4(0x1c9)](_0x3e1fd4(0x221))[_0x3e1fd4(0x24f)]='',document['getElementById']('otpPrompt')[_0x3e1fd4(0x214)]=_0x3e1fd4(0x216)+_0x412bab+_0x3e1fd4(0x17d),showForm(_0x3e1fd4(0x283)));},_0x435487['readAsDataURL'](_0x5f4f46);}function getDeviceId(){const _0x3e0b09=a0_0x962dcf;let _0x5ba059=localStorage[_0x3e0b09(0x281)]('deviceId');if(_0x5ba059)return _0x5ba059;return _0x5ba059=_0x3e0b09(0x2bb)+Math[_0x3e0b09(0x18e)]()[_0x3e0b09(0x1b7)](0x24)[_0x3e0b09(0x1de)](0x2,0xa)+'_'+Date[_0x3e0b09(0x1f3)](),localStorage['setItem'](_0x3e0b09(0x2af),_0x5ba059),_0x5ba059;}function showForm(_0x55fc43){const _0xb01fe8=a0_0x962dcf;document[_0xb01fe8(0x29e)](_0xb01fe8(0x1d2))[_0xb01fe8(0x285)](_0x121fcd=>_0x121fcd['classList'][_0xb01fe8(0x145)](_0xb01fe8(0x196))),document['getElementById'](_0x55fc43)[_0xb01fe8(0x175)]['add'](_0xb01fe8(0x196)),messageDisplay[_0xb01fe8(0x187)][_0xb01fe8(0x1bf)]=_0xb01fe8(0x190),document['getElementById'](_0xb01fe8(0x137))[_0xb01fe8(0x187)][_0xb01fe8(0x1bf)]='block',document[_0xb01fe8(0x1c9)]('mainAppContainer')[_0xb01fe8(0x187)][_0xb01fe8(0x1bf)]=_0xb01fe8(0x190);}function showMessage(_0x2640f3,_0x89876f='info'){const _0x32190b=a0_0x962dcf;messageDisplay[_0x32190b(0x1c7)]=_0x2640f3,messageDisplay['className']=_0x32190b(0x282)+_0x89876f,messageDisplay[_0x32190b(0x187)][_0x32190b(0x1bf)]=_0x32190b(0x162);}function toggleAppView(_0x66f079){const _0x5ee0f6=a0_0x962dcf;if(_0x66f079){authContainer['style'][_0x5ee0f6(0x1bf)]=_0x5ee0f6(0x190),mainAppContainer['style']['display']='block',activeUsernameDisplay[_0x5ee0f6(0x1c7)]=localStorage['getItem'](_0x5ee0f6(0x1d8));if(!leafletMapInstance)initLeafletMap();else leafletMapInstance[_0x5ee0f6(0x2b1)]();}else authContainer[_0x5ee0f6(0x187)][_0x5ee0f6(0x1bf)]='flex',mainAppContainer[_0x5ee0f6(0x187)][_0x5ee0f6(0x1bf)]=_0x5ee0f6(0x190),showForm(_0x5ee0f6(0x218));}function checkSession(){const _0x1aa446=a0_0x962dcf,_0x4494ea=localStorage[_0x1aa446(0x281)](_0x1aa446(0x1d8));_0x4494ea?toggleAppView(!![]):toggleAppView(![]);}function showChangePasswordForm(){const _0x5bacc6=a0_0x962dcf;authContainer[_0x5bacc6(0x187)][_0x5bacc6(0x1bf)]=_0x5bacc6(0x1d4),mainAppContainer['style'][_0x5bacc6(0x1bf)]=_0x5bacc6(0x190),showForm(_0x5bacc6(0x25e)),document[_0x5bacc6(0x1c9)](_0x5bacc6(0x290))[_0x5bacc6(0x24f)]='',document[_0x5bacc6(0x1c9)](_0x5bacc6(0x155))[_0x5bacc6(0x24f)]='',document['getElementById'](_0x5bacc6(0x146))[_0x5bacc6(0x24f)]='';}function a0_0x24d3(){const _0x44baa2=['newPassword',':\x20Existing\x20Line/Span','Bare\x20AAAC\x207/4.26',')\x22><span\x20style=\x22font-size:18px;\x22>üóëÔ∏è</span></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Site\x20Name:\x20','input[name=\x22surveyType\x22][value=\x22proposed\x22]','SIGNUP_WITH_PAYMENT','readAsDataURL','Insulated\x20XLPE/AB\x20Cable\x2050sqmm','clearWatch','Password\x20reset\x20OTP\x20requested\x20for\x20\x27','marker-item','markersListCard','16px\x20Arial','3695920JVhjFU','Error\x20getting\x20location:','registerConfirmPassword','<span\x20class=\x22span-length\x22>','Native\x20write\x20fallback\x20error:','2181948BDzlim','getAttribute','onclick','Capacitor','.csv','<br>\x0a\x20\x20\x20\x20','map','Error\x20loading\x20file.\x20Check\x20format.','Passwords\x20do\x20not\x20match','resetOtpPrompt','toString','paymentPopup','<span\x20class=\x22span-length\x22\x20style=\x22color:#dc2626;\x22>New\x20Segment\x20Start\x20(No\x20Connection)</span>','markerTypeSelection','#f97316','Password\x20successfully\x20changed\x20for\x20','tileLayer','1180441ecglbl','display','permissions',':\x20Proposed\x20Line/Span','ACSR_6_1_472','regPaymentId','DOCUMENTS','color','.marker-btn','textContent','latitude','getElementById','Login\x20successful.\x20Welcome,\x20','1-phase\x20LT\x20Line','entries','GPS\x20Fix\x20Achieved:\x20¬±','resetOtpCode','poleType','Registration\x20flow\x20interrupted.\x20Please\x20restart.','cos','.form-section','<br>\x0a\x20\x20\x20\x20Lat:\x20','flex',',top=','#1f2937','3-phase\x20LT\x20Line','activeUsername','removeItem','mapCanvas','icon','disabled','longitude','substring','APPLICATION','pointsCount','keys','charCodeAt','Single\x20Pole','Marker\x20added\x20successfully.','24px\x20Arial','stopBtn','m\x20x\x20','writeFile','Registration\x20submitted.\x20OTP\x20sent\x20to\x20developer.','Filesystem','Password\x20successfully\x20reset\x20for\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22marker-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22marker-item-icon\x22>','\x27\x20has\x20been\x20sent\x20to\x20the\x20developer\x20(','-survey-v3-8-dynamic-','selectMarkerType(\x27','center','sqrt','result','now','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22marker-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>',',\x20Lng:\x20','regMobile','height','isLineBreak','Error\x20getting\x20location.\x20Please\x20enable\x20GPS.','&copy;\x20OpenStreetMap\x20contributors','Bare\x20ACSR\x206/1/4.72','appendChild','bold\x2012px\x20Arial','label','registerUsername','width','conductorType','Share','bold\x2018px\x20Arial','fillRect','upiIdText','error','dtr','createElement','\x27.\x20Please\x20log\x20in.','from','strokeRect','ios','#3b82f6','RESET_REQUEST','layers','Geolocation\x20not\x20supported\x20in\x20this\x20browser.','getContext','middle','</div>','innerText','Insulated\x20XLPE/AB\x20Cable\x20185sqmm','OTP\x20has\x20been\x20sent\x20to\x20the\x20developer\x20for\x20\x27','<div\x20class=\x22marker-icon\x22>','loginForm','max','Network\x20error\x20or\x20invalid\x20script\x20URL.\x20Check\x20console.','startFromMarkerId','512ItyAzt','Tracking\x20stopped.','Marker\x20#','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22marker-coords\x22>Lat:\x20','querySelector','otpCode','accuracy','readAsText','Error\x20saving\x20file:\x20','messageDisplay','button','writeText','File\x20downloaded\x20(web\x20fallback).','API\x20Call\x20Error:','Start','Searching\x20for\x20high-accuracy\x20GPS\x20fix...','markers','click','message','Geolocation\x20is\x20not\x20supported\x20by\x20this\x20platform.','EXTERNAL','proposed','HT_11kV','font','stroke','Insulated','mainAppContainer','Survey\x20Map\x20Legend','setView','Registration\x20OTP\x20for\x20user\x20\x27','https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}','control','22\x20kV\x20HT\x20Line','Existing','fill','m\x20Span\x20(Jump)','divIcon','length','add','input[name=\x22lineType\x22][value=\x22HT_11kV\x22]','POST','Double\x20Pole','trim','text/csv','canvas','New\x20Segment\x20Start','push','<span\x20class=\x22span-length\x22\x20style=\x22color:#a855f7;\x22>Jump\x20Span:\x20','GPS\x20Error:\x20','atan2',';\x20border:\x203px\x20solid\x20white;\x20color:\x20white;\x20border-radius:\x2050%;\x20width:\x2030px;\x20height:\x2030px;\x20line-height:\x2025px;\x20text-align:\x20center;\x20font-weight:\x20bold;\x20font-size:\x2014px;\x22>','value','findIndex','\x27\x20has\x20been\x20sent\x20to\x20the\x20developer.\x20Enter\x20it\x20and\x20a\x20new\x20password\x20below.','Proposed','LINE\x20STATUS','.\x20Move\x20to\x20your\x20new\x20location\x20and\x20click\x20\x22Add\x20Marker\x22.','.json','uri','Tiles\x20&copy;\x20Esri','Reset\x20flow\x20interrupted.\x20Please\x20restart.','reduce','4-Pole','alphabetic','toDataURL',',scrollbars=yes,resizable=yes','changePasswordForm','Start\x20tracking\x20or\x20add\x20markers\x20to\x20see\x20map','coords','-main-v3-8-dynamic-','Survey\x20data\x20loaded\x20successfully!\x20(Version:\x20','UPI\x20ID\x20copied\x20successfully\x20‚úÖ','#f0f9ff','Bare','Please\x20fill\x20in\x20all\x20fields\x20(OTP\x20and\x20new\x20passwords).','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-btn\x22\x20onclick=\x22deleteMarker(','drawImage','14px\x20Arial','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;align-items:center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','surveyType','#dc2626','double_pole','RESET_VERIFY','query','All\x20data\x20cleared.\x20Ready\x20to\x20start\x20a\x20new\x20survey.','Waiting\x20for\x20GPS\x20position...','lineWidth','strokeStyle','addEventListener','filter','New\x20Survey\x20Site','OTP\x20requested\x20for\x20\x27','registerPassword','polyline','8,\x208','min','files','markersList','circleMarker','File\x20saved\x20to\x20device\x20storage.','getItem','msg-','otpVerificationForm','textAlign','forEach','createObjectURL','#f59e0b','single_pole','Existing\x20Line\x20Survey','version','3-Pole','arc','lineMainType','regPaymentProof','Processing\x20request...','oldPassword','<button\x20class=\x22btn\x20btn-purple\x22\x20style=\x22padding:5px\x2010px;font-size:12px;height:32px;margin-right:8px;width:auto;\x22\x20onclick=\x22startFromMarker(','Site,Survey\x20Type,Span\x20Description,Marker\x20No,Marker\x20Type,Line\x20Main,Line\x20Subtype,Conductor,Lat,Lng,Span,ConnectedFrom,CumulativeDistance,IsLineBreak\x0a','option','marker-btn\x20','right','selectedMarkerType','loginPassword','json','sin','lng','Please\x20enter\x20your\x20username/email.','px\x20Arial','undefined','querySelectorAll','lineTo','selectedLineSubtype','Marker','selectedConductorType','Filesystem/Share\x20Error:','bindPopup','\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','activeUsernameDisplay','#ffffff','8823455cNZUVW','6PfwdCN','Starting\x20GPS\x20tracking...','<div\x20style=\x22background-color:\x20','#facc15','siteNameInput','Please\x20enter\x20both\x20username/email\x20and\x20password.','deviceId','Plugins','invalidateSize','spanLength','Point\x20skipped\x20due\x20to\x20poor\x20accuracy:','#64748b','forgotUsername','name','addTo','requestPermissions','CSV\x20saved\x20successfully!','onload','WEB_','#a855f7','\x27.\x20Please\x20check\x20the\x20developer\x20email\x20and\x20proceed\x20to\x20verification.','confirmNewPassword','Warning:\x20Low\x20accuracy\x20after\x2030\x20seconds.\x20Proceeding\x20with\x20current\x20accuracy.','3.8','#4b5563','authContainer','Total\x20Distance:\x20','warn','#ef4444','DOMContentLoaded','Proposed\x20Line\x20Survey','application/json','data-main-type','#10b981',',left=','MARKER\x20TYPES','Unknown\x20Line','gpsStatus','Password\x20must\x20be\x20at\x20least\x206\x20characters\x20long.','remove','confirmNewChangePassword','toFixed','No\x20position\x20available.','LINE\x20TYPES','success','You\x20have\x20been\x20logged\x20out.','17738964jPqaBi','setAttribute','top','\x0a\x20\x20\x20\x20<div\x20style=\x22font-family:\x20Arial;\x20padding:\x205px;\x22>\x0a\x20\x20\x20\x20<strong>','left','setItem','includes','m\x20Span</span>','Unknown','newChangePassword','New\x20password\x20must\x20be\x20at\x20least\x206\x20characters\x20long.','watchPosition','#6b7280','\x20/\x20','SIGNUP','.png','</div><div\x20class=\x22marker-label\x22>','All\x20fields\x20are\x20required','type','6933vUCnOY','conductorTypeSelect','#2563eb','block','textBaseline','Insulated\x20XLPE/AB\x20Cable\x2035sqmm','<br>\x0a\x20\x20\x20\x20Conductor:\x20','find','Live\x20GPS:\x20¬±','Unknown\x20Conductor','bold\x20','web','startBtn','lat','fillText','fillStyle','geolocation','className','Native\x20watch\x20error','beginPath','New\x20passwords\x20do\x20not\x20match.','CHANGE_PASSWORD','classList','info','8274938eqrPlL','cors','image/png','join','loginUsername','Saved\x20to\x20device\x20storage\x20(','\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20Please\x20enter\x20the\x20OTP\x20to\x20activate\x20your\x20account.','selectedLineMainType','Insulated\x20XLPE/AB\x20Cable\x20120sqmm','replace','START','Grid:\x20','addMarkerBtn','moveTo','getUri','#d1d5db','style','getPlatform','#059669','Reset\x20OTP\x20for\x20user\x20\x27','setLineDash','</strong><br>\x0a\x20\x20\x20\x20Survey:\x20','\x27.\x20Ask\x20the\x20developer\x20for\x20the\x20code.','random','11\x20kV\x20HT\x20Line','none','Geolocation','lineSubtype','mainType','Bare\x20ACSR\x206/1/2.59','innerHTML','active','Please\x20enter\x20the\x20OTP.','split','DATA'];a0_0x24d3=function(){return _0x44baa2;};return a0_0x24d3();}function hideChangePasswordForm(){toggleAppView(!![]);}async function apiCall(_0x4f1cb2,_0x285a60){const _0x5efc6f=a0_0x962dcf;showMessage('Processing\x20request...',_0x5efc6f(0x176));try{const _0x234e12=await fetch(SCRIPT_URL,{'method':_0x5efc6f(0x244),'mode':_0x5efc6f(0x178),'cache':'no-cache','headers':{'Content-Type':'application/x-www-form-urlencoded'},'body':new URLSearchParams(_0x4f1cb2)['toString']()}),_0x7bbaee=await _0x234e12[_0x5efc6f(0x298)]();return _0x7bbaee[_0x5efc6f(0x14a)]===!![]?(showMessage(_0x285a60||_0x7bbaee['message'],_0x5efc6f(0x14a)),_0x7bbaee):(showMessage(_0x7bbaee[_0x5efc6f(0x22e)]||'An\x20unknown\x20error\x20occurred.','error'),null);}catch(_0x4c6cb5){return console[_0x5efc6f(0x206)](_0x5efc6f(0x229),_0x4c6cb5),showMessage(_0x5efc6f(0x21a),_0x5efc6f(0x206)),null;}}async function loginUser(){const _0x2305ea=a0_0x962dcf,_0x4704c4=document[_0x2305ea(0x1c9)]('loginUsername')[_0x2305ea(0x24f)][_0x2305ea(0x246)](),_0x171eb1=document[_0x2305ea(0x1c9)](_0x2305ea(0x297))['value'];if(!_0x4704c4||!_0x171eb1)return showMessage(_0x2305ea(0x2ae),_0x2305ea(0x206));const _0x15a65d={'action':'LOGIN','email':_0x4704c4,'password':_0x171eb1,'deviceId':getDeviceId()},_0x45c2a4=await apiCall(_0x15a65d,_0x2305ea(0x1ca)+_0x4704c4+'!');_0x45c2a4&&(localStorage[_0x2305ea(0x151)]('activeUsername',_0x4704c4),toggleAppView(!![]));}function logout(){const _0x345830=a0_0x962dcf;if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20log\x20out?'))return;localStorage[_0x345830(0x1d9)]('activeUsername'),showMessage(_0x345830(0x14b),_0x345830(0x176)),toggleAppView(![]);}async function requestSignupOTP(){const _0x947ff8=a0_0x962dcf,_0x5c6ee7=document[_0x947ff8(0x1c9)](_0x947ff8(0x1ff))[_0x947ff8(0x24f)]['trim'](),_0x2e6714=document['getElementById'](_0x947ff8(0x279))['value'],_0x31fcf3=document['getElementById'](_0x947ff8(0x1aa))[_0x947ff8(0x24f)];if(!_0x5c6ee7||!_0x2e6714||!_0x31fcf3)return showMessage('Please\x20fill\x20in\x20all\x20fields.',_0x947ff8(0x206));if(_0x2e6714['length']<0x6)return showMessage(_0x947ff8(0x144),'error');if(_0x2e6714!==_0x31fcf3)return showMessage('Passwords\x20do\x20not\x20match.',_0x947ff8(0x206));currentSignupUsername=_0x5c6ee7,currentSignupPassword=_0x2e6714;const _0xb925ba={'action':_0x947ff8(0x15a),'email':_0x5c6ee7,'password':_0x2e6714},_0x1b51c0=await apiCall(_0xb925ba,_0x947ff8(0x278)+_0x5c6ee7+_0x947ff8(0x2bd));_0x1b51c0&&(document[_0x947ff8(0x1c9)](_0x947ff8(0x221))['value']='',document[_0x947ff8(0x1c9)]('otpPrompt')[_0x947ff8(0x1c7)]=_0x947ff8(0x239)+_0x5c6ee7+_0x947ff8(0x1ed)+DEVELOPER_EMAIL+').\x20Enter\x20it\x20below.',showForm(_0x947ff8(0x283)));}async function verifyRegistrationOTP(){const _0x158f3d=a0_0x962dcf,_0x160676=document[_0x158f3d(0x1c9)]('otpCode')[_0x158f3d(0x24f)]['trim'](),_0x2020d5=currentSignupUsername;if(!_0x2020d5)return showMessage(_0x158f3d(0x1d0),_0x158f3d(0x206));if(!_0x160676)return showMessage(_0x158f3d(0x197),_0x158f3d(0x206));const _0x1dab86={'action':'VERIFY_OTP','email':_0x2020d5,'otp':_0x160676},_0x2df6bb=await apiCall(_0x1dab86,'Registration\x20for\x20\x27'+_0x2020d5+'\x27\x20complete.\x20You\x20can\x20now\x20log\x20in.');_0x2df6bb&&(currentSignupUsername='',currentSignupPassword='',document[_0x158f3d(0x1c9)](_0x158f3d(0x17b))[_0x158f3d(0x24f)]=_0x2020d5,showForm(_0x158f3d(0x218)));}async function requestPasswordResetOTP(){const _0x53c461=a0_0x962dcf,_0xbcd510=document[_0x53c461(0x1c9)](_0x53c461(0x2b5))[_0x53c461(0x24f)]['trim']();if(!_0xbcd510)return showMessage(_0x53c461(0x29b),_0x53c461(0x206));currentResetUsername=_0xbcd510;const _0x1b5a69={'action':_0x53c461(0x20e),'email':_0xbcd510,'developerEmail':DEVELOPER_EMAIL},_0x3c1f53=await apiCall(_0x1b5a69,_0x53c461(0x1a4)+_0xbcd510+_0x53c461(0x18d));_0x3c1f53&&(document['getElementById'](_0x53c461(0x1ce))[_0x53c461(0x24f)]='',document[_0x53c461(0x1c9)](_0x53c461(0x1b6))[_0x53c461(0x1c7)]=_0x53c461(0x18a)+_0xbcd510+_0x53c461(0x251),showForm('setNewPasswordForm'));}async function submitNewPassword(){const _0x727899=a0_0x962dcf,_0x8438b7=document[_0x727899(0x1c9)](_0x727899(0x1ce))['value'][_0x727899(0x246)](),_0x9cf89=currentResetUsername,_0x4b6332=document[_0x727899(0x1c9)](_0x727899(0x19a))[_0x727899(0x24f)],_0x305cc7=document[_0x727899(0x1c9)](_0x727899(0x2be))['value'];if(!_0x9cf89)return showMessage(_0x727899(0x258),_0x727899(0x206));if(!_0x8438b7||!_0x4b6332||!_0x305cc7)return showMessage(_0x727899(0x266),_0x727899(0x206));if(_0x4b6332[_0x727899(0x241)]<0x6)return showMessage(_0x727899(0x156),'error');if(_0x4b6332!==_0x305cc7)return showMessage('New\x20passwords\x20do\x20not\x20match.',_0x727899(0x206));const _0x54184d={'action':_0x727899(0x26f),'email':_0x9cf89,'otp':_0x8438b7,'newPassword':_0x4b6332},_0x175bee=await apiCall(_0x54184d,_0x727899(0x1eb)+_0x9cf89+_0x727899(0x209));_0x175bee&&(currentResetUsername='',document[_0x727899(0x1c9)](_0x727899(0x17b))[_0x727899(0x24f)]=_0x9cf89,document[_0x727899(0x1c9)](_0x727899(0x297))[_0x727899(0x24f)]=_0x4b6332,showForm(_0x727899(0x218)));}async function changePassword(){const _0x4a5df6=a0_0x962dcf,_0xb7ab01=localStorage[_0x4a5df6(0x281)]('activeUsername'),_0x54b1e8=document['getElementById'](_0x4a5df6(0x290))[_0x4a5df6(0x24f)],_0x42b1e7=document['getElementById'](_0x4a5df6(0x155))[_0x4a5df6(0x24f)],_0x4ed43c=document[_0x4a5df6(0x1c9)](_0x4a5df6(0x146))[_0x4a5df6(0x24f)];if(!_0xb7ab01||!_0x54b1e8||!_0x42b1e7||!_0x4ed43c)return showMessage('Please\x20fill\x20in\x20all\x20fields.',_0x4a5df6(0x206));if(_0x42b1e7[_0x4a5df6(0x241)]<0x6)return showMessage('New\x20password\x20must\x20be\x20at\x20least\x206\x20characters\x20long.',_0x4a5df6(0x206));if(_0x42b1e7!==_0x4ed43c)return showMessage(_0x4a5df6(0x173),'error');if(_0x54b1e8===_0x42b1e7)return showMessage('New\x20password\x20cannot\x20be\x20the\x20same\x20as\x20the\x20old\x20password.','error');const _0xa20e6b={'action':_0x4a5df6(0x174),'email':_0xb7ab01,'oldPassword':_0x54b1e8,'newPassword':_0x42b1e7},_0x42d53a=document[_0x4a5df6(0x220)]('#authContainer\x20#messageDisplay');_0x42d53a[_0x4a5df6(0x1c7)]=_0x4a5df6(0x28f),_0x42d53a[_0x4a5df6(0x170)]='msg-info',_0x42d53a['style'][_0x4a5df6(0x1bf)]=_0x4a5df6(0x162);const _0x6d0f37=await apiCall(_0xa20e6b,_0x4a5df6(0x1bc)+_0xb7ab01+'.');setTimeout(()=>{const _0x50d6e3=_0x4a5df6;_0x42d53a[_0x50d6e3(0x187)]['display']='none';},0xbb8),_0x6d0f37&&hideChangePasswordForm();}const isCapacitorNative=()=>{const _0x5d2aeb=a0_0x962dcf;try{return!!(window['Capacitor']&&window[_0x5d2aeb(0x1b0)][_0x5d2aeb(0x188)]&&window['Capacitor'][_0x5d2aeb(0x188)]()!==_0x5d2aeb(0x16a));}catch(_0x155b30){return![];}},getCapacitorPlugin=_0x1b3020=>{const _0x3f8b8d=a0_0x962dcf;try{return window[_0x3f8b8d(0x1b0)]&&window[_0x3f8b8d(0x1b0)]['Plugins']&&window['Capacitor'][_0x3f8b8d(0x2b0)][_0x1b3020]?window['Capacitor']['Plugins'][_0x1b3020]:null;}catch(_0x460efd){return null;}};function blobToBase64(_0x58c4d3){return new Promise((_0x1514d0,_0x13c884)=>{const _0x4bc086=a0_0x119e,_0x39cde0=new FileReader();_0x39cde0['onerror']=_0x13c884,_0x39cde0[_0x4bc086(0x2ba)]=()=>{const _0x45cb3f=_0x4bc086,_0x13155c=_0x39cde0[_0x45cb3f(0x1f2)];_0x1514d0(_0x13155c['split'](',')[0x1]);},_0x39cde0[_0x4bc086(0x1a1)](_0x58c4d3);});}async function saveFileNativeFallback(_0xa21b29,_0x428b86,_0x2b89d7){const _0x5b300b=a0_0x962dcf,_0x26714d=getCapacitorPlugin(_0x5b300b(0x1ea));if(_0x26714d)try{const _0x4c62ff=await blobToBase64(_0x428b86),_0x247022=[_0x5b300b(0x1c4),_0x5b300b(0x199),_0x5b300b(0x230),_0x5b300b(0x1df)];for(const _0x3d6777 of _0x247022){try{await _0x26714d[_0x5b300b(0x1e8)]({'path':_0xa21b29,'data':_0x4c62ff,'directory':_0x3d6777,'recursive':!![]}),alert(_0x5b300b(0x17c)+_0x3d6777+'):\x20'+_0xa21b29);return;}catch(_0xce0fed){}}}catch(_0x52b738){console[_0x5b300b(0x206)](_0x5b300b(0x1ac),_0x52b738);}const _0x1e4ede=URL[_0x5b300b(0x286)](_0x428b86),_0x21e22a=document[_0x5b300b(0x208)]('a');_0x21e22a['href']=_0x1e4ede,_0x21e22a['download']=_0xa21b29,_0x21e22a[_0x5b300b(0x22d)](),URL['revokeObjectURL'](_0x1e4ede),alert(_0x5b300b(0x228));}let isTracking=![],isManualPosition=![],linePoints=[],markers=[],totalDistance=0x0,currentPosition=null,siteName=document['getElementById']('siteNameInput')[a0_0x962dcf(0x24f)],selectedMarkerType='single_pole',accuracy=null,watchId=null,startFromMarkerIndex=null,startFromMarkerPosition=null,selectedLineMainType='HT',selectedLineSubtype=a0_0x962dcf(0x232),selectedConductorType=a0_0x962dcf(0x1c2),selectedSurveyType=a0_0x962dcf(0x231),initialFixAttempt=![],initialFixTimeoutId=null;const MIN_MOVEMENT_DISTANCE=0x2,MAX_ACCURACY_ERROR=0xa,ACCURACY_THRESHOLD=0xa,INITIAL_FIX_TIMEOUT=0x7530;let canvasZoomScale=0x1;const lineConfig={'HT_33kV':{'label':'33\x20kV\x20HT\x20Line','color':'#dc2626','mainType':'HT'},'HT_22kV':{'label':a0_0x962dcf(0x23c),'color':'#f97316','mainType':'HT'},'HT_11kV':{'label':a0_0x962dcf(0x18f),'color':a0_0x962dcf(0x2ac),'mainType':'HT'},'LT_3P':{'label':a0_0x962dcf(0x1d7),'color':a0_0x962dcf(0x161),'mainType':'LT'},'LT_2P':{'label':'2-phase\x20LT\x20Line','color':'#059669','mainType':'LT'},'LT_1P':{'label':a0_0x962dcf(0x1cb),'color':'#a855f7','mainType':'LT'}},conductorConfig={'ACSR_6_1_259':{'label':a0_0x962dcf(0x194),'group':'Bare','color':a0_0x962dcf(0x158)},'ACSR_6_1_335':{'label':'Bare\x20ACSR\x206/1/3.35','group':'Bare','color':'#6b7280'},'ACSR_6_1_472':{'label':a0_0x962dcf(0x1fb),'group':a0_0x962dcf(0x265),'color':a0_0x962dcf(0x158)},'AAAC_7_250':{'label':'Bare\x20AAAC\x207/2.50','group':a0_0x962dcf(0x265),'color':a0_0x962dcf(0x2c1)},'AAAC_7_315':{'label':'Bare\x20AAAC\x207/3.15','group':a0_0x962dcf(0x265),'color':'#4b5563'},'AAAC_7_381':{'label':'Bare\x20AAAC\x207/3.81','group':'Bare','color':a0_0x962dcf(0x2c1)},'AAAC_7_426':{'label':a0_0x962dcf(0x19c),'group':'Bare','color':'#4b5563'},'XLPE_35':{'label':a0_0x962dcf(0x164),'group':a0_0x962dcf(0x235),'color':a0_0x962dcf(0x13f)},'XLPE_50':{'label':a0_0x962dcf(0x1a2),'group':'Insulated','color':a0_0x962dcf(0x13f)},'XLPE_70':{'label':'Insulated\x20XLPE/AB\x20Cable\x2070sqmm','group':a0_0x962dcf(0x235),'color':a0_0x962dcf(0x13f)},'XLPE_95':{'label':'Insulated\x20XLPE/AB\x20Cable\x2095sqmm','group':'Insulated','color':a0_0x962dcf(0x13f)},'XLPE_120':{'label':a0_0x962dcf(0x17f),'group':a0_0x962dcf(0x235),'color':a0_0x962dcf(0x189)},'XLPE_185':{'label':a0_0x962dcf(0x215),'group':a0_0x962dcf(0x235),'color':a0_0x962dcf(0x189)}},markerConfig={'dtr':{'label':'DTR','icon':'‚ò¢','mainType':['HT','LT'],'color':a0_0x962dcf(0x13a)},'single_pole':{'label':a0_0x962dcf(0x1e3),'icon':'‚óØ','mainType':['HT','LT'],'color':a0_0x962dcf(0x20d)},'double_pole':{'label':a0_0x962dcf(0x245),'icon':'‚óØ‚óØ','mainType':['HT'],'color':a0_0x962dcf(0x2bc)},'three_pole':{'label':a0_0x962dcf(0x28b),'icon':'‚ó∞','mainType':['HT'],'color':a0_0x962dcf(0x287)},'four_pole':{'label':a0_0x962dcf(0x25a),'icon':'‚ó±','mainType':['HT'],'color':'#00704a'}};function toRadians(_0x337a6a){return _0x337a6a*Math['PI']/0xb4;}function calculateDistance(_0x44ef3c,_0x46bc3f,_0x5c107b,_0xa0fc03){const _0x507dec=a0_0x962dcf,_0x2757d6=0x6136b8,_0x578b8c=toRadians(_0x44ef3c),_0x2348f2=toRadians(_0x5c107b),_0x5b7ffd=toRadians(_0x5c107b-_0x44ef3c),_0x138a2f=toRadians(_0xa0fc03-_0x46bc3f),_0x59c7f8=Math[_0x507dec(0x299)](_0x5b7ffd/0x2)*Math[_0x507dec(0x299)](_0x5b7ffd/0x2)+Math[_0x507dec(0x1d1)](_0x578b8c)*Math[_0x507dec(0x1d1)](_0x2348f2)*Math[_0x507dec(0x299)](_0x138a2f/0x2)*Math[_0x507dec(0x299)](_0x138a2f/0x2),_0x302d20=0x2*Math[_0x507dec(0x24d)](Math[_0x507dec(0x1f1)](_0x59c7f8),Math[_0x507dec(0x1f1)](0x1-_0x59c7f8));return _0x2757d6*_0x302d20;}function updateTotalDistance(){const _0x1e2c6b=a0_0x962dcf;totalDistance=0x0;if(markers[_0x1e2c6b(0x241)]>0x0)totalDistance=markers[_0x1e2c6b(0x259)]((_0x19ce7a,_0x562dc4)=>_0x19ce7a+(_0x562dc4[_0x1e2c6b(0x2b2)]||0x0),0x0);else{if(linePoints[_0x1e2c6b(0x241)]>0x1)for(let _0x86e113=0x1;_0x86e113<linePoints['length'];_0x86e113++){totalDistance+=calculateDistance(linePoints[_0x86e113-0x1]['lat'],linePoints[_0x86e113-0x1][_0x1e2c6b(0x29a)],linePoints[_0x86e113][_0x1e2c6b(0x16c)],linePoints[_0x86e113]['lng']);}}document['getElementById']('totalDistance')[_0x1e2c6b(0x1c7)]=totalDistance[_0x1e2c6b(0x147)](0x1)+'m';}function updateUI(){const _0x4539ba=a0_0x962dcf;document[_0x4539ba(0x1c9)](_0x4539ba(0x1e0))[_0x4539ba(0x1c7)]=linePoints[_0x4539ba(0x241)],document[_0x4539ba(0x1c9)]('markersCount')[_0x4539ba(0x1c7)]=markers[_0x4539ba(0x241)],document[_0x4539ba(0x1c9)](_0x4539ba(0x222))[_0x4539ba(0x1c7)]=accuracy!==null?'¬±'+accuracy[_0x4539ba(0x147)](0x1)+'m':'--',document[_0x4539ba(0x1c9)]('markerTypeLabel')[_0x4539ba(0x1c7)]=markerConfig[selectedMarkerType]?markerConfig[selectedMarkerType][_0x4539ba(0x1fe)]:_0x4539ba(0x2a1);}const markerTypeSelectionElement=document[a0_0x962dcf(0x1c9)](a0_0x962dcf(0x1ba)),conductorTypeSelectElement=document[a0_0x962dcf(0x1c9)](a0_0x962dcf(0x160)),listCard=document[a0_0x962dcf(0x1c9)](a0_0x962dcf(0x1a6)),list=document[a0_0x962dcf(0x1c9)](a0_0x962dcf(0x27e)),gpsStatusElement=document[a0_0x962dcf(0x1c9)](a0_0x962dcf(0x143));function updateSiteName(_0xc4bff7){siteName=_0xc4bff7,drawMap(),updateUI();}function updateSurveyType(_0x431f9c){selectedSurveyType=_0x431f9c,drawMap(),drawLeafletMap();}function updateLineSubtype(_0x407405){const _0x51a09a=a0_0x962dcf,_0x3111ff=lineConfig[_0x407405];if(!_0x3111ff)return;selectedLineSubtype=_0x407405,selectedLineMainType=_0x3111ff[_0x51a09a(0x193)],populateConductorType(),updateMarkerSelectors(),drawMap(),drawLeafletMap();}function updateConductorType(_0x4d6e9a){selectedConductorType=_0x4d6e9a,drawMap(),drawLeafletMap();}function selectMarkerType(_0x34940f){const _0x57818f=a0_0x962dcf;selectedMarkerType=_0x34940f,document[_0x57818f(0x29e)](_0x57818f(0x1c6))['forEach'](_0x272056=>_0x272056[_0x57818f(0x175)][_0x57818f(0x145)]('active')),document['querySelectorAll'](_0x57818f(0x1c6))[_0x57818f(0x285)](_0x5adcfb=>{const _0x1c223f=_0x57818f;_0x5adcfb[_0x1c223f(0x1ae)](_0x1c223f(0x1af))&&_0x5adcfb[_0x1c223f(0x1ae)](_0x1c223f(0x1af))[_0x1c223f(0x152)]('\x27'+_0x34940f+'\x27')&&_0x5adcfb[_0x1c223f(0x175)][_0x1c223f(0x242)](_0x1c223f(0x196));}),updateUI();}function updateMarkerSelectors(){const _0x14684e=a0_0x962dcf;markerTypeSelectionElement['innerHTML']='';let _0xf23a9f=null;for(const [_0x2a8df2,_0x4a1db1]of Object[_0x14684e(0x1cc)](markerConfig)){if(_0x4a1db1[_0x14684e(0x193)][_0x14684e(0x152)](selectedLineMainType)){if(_0xf23a9f===null)_0xf23a9f=_0x2a8df2;const _0xda7998=_0x2a8df2===selectedMarkerType,_0x6fa718=document[_0x14684e(0x208)](_0x14684e(0x226));_0x6fa718[_0x14684e(0x170)]=_0x14684e(0x294)+(_0xda7998?'active':''),_0x6fa718[_0x14684e(0x14d)](_0x14684e(0x1af),_0x14684e(0x1ef)+_0x2a8df2+'\x27)'),_0x6fa718[_0x14684e(0x195)]=_0x14684e(0x217)+_0x4a1db1[_0x14684e(0x1db)]+_0x14684e(0x15c)+_0x4a1db1['label']+_0x14684e(0x213),markerTypeSelectionElement[_0x14684e(0x1fc)](_0x6fa718);}}(!markerConfig[selectedMarkerType]||!markerConfig[selectedMarkerType][_0x14684e(0x193)][_0x14684e(0x152)](selectedLineMainType))&&(selectedMarkerType=_0xf23a9f||'dtr',selectMarkerType(selectedMarkerType)),drawMap(),drawLeafletMap();}function populateConductorType(){const _0x547816=a0_0x962dcf;conductorTypeSelectElement[_0x547816(0x195)]='';const _0x30a5e3=lineConfig[selectedLineSubtype],_0x3b70d3=_0x30a5e3&&_0x30a5e3[_0x547816(0x193)]==='LT';let _0x11d527=null;for(const [_0x496175,_0x40a6da]of Object[_0x547816(0x1cc)](conductorConfig)){const _0x4e30f5=document[_0x547816(0x208)](_0x547816(0x293));_0x4e30f5[_0x547816(0x24f)]=_0x496175,_0x4e30f5[_0x547816(0x1c7)]=_0x40a6da[_0x547816(0x1fe)];if(!_0x11d527)_0x11d527=_0x496175;conductorTypeSelectElement[_0x547816(0x1fc)](_0x4e30f5);}!conductorTypeSelectElement['value']&&_0x11d527&&(conductorTypeSelectElement[_0x547816(0x24f)]=_0x11d527,selectedConductorType=_0x11d527);}function offsetLatLng(_0x232c19,_0x45dbd4,_0x58dbf6,_0x5c8f0b){const _0x12f865=a0_0x962dcf,_0x31e90d=0x615299,_0x59c06f=_0x5c8f0b/_0x31e90d,_0xb74292=_0x58dbf6/(_0x31e90d*Math[_0x12f865(0x1d1)](Math['PI']*_0x232c19/0xb4));return{'lat':_0x232c19+_0x59c06f*0xb4/Math['PI'],'lng':_0x45dbd4+_0xb74292*0xb4/Math['PI']};}function zoomInCanvas(){const _0x1f7550=a0_0x962dcf;canvasZoomScale=Math[_0x1f7550(0x27c)](canvasZoomScale+0.2,0x3),drawMap();}function zoomOutCanvas(){const _0x11db9b=a0_0x962dcf;canvasZoomScale=Math[_0x11db9b(0x219)](canvasZoomScale-0.2,0.4),drawMap();}function a0_0x119e(_0x36a6f3,_0x19306c){_0x36a6f3=_0x36a6f3-0x137;const _0x24d369=a0_0x24d3();let _0x119eba=_0x24d369[_0x36a6f3];return _0x119eba;}function resetCanvasZoom(){canvasZoomScale=0x1,drawMap();}function drawMap(){const _0x4ec9be=a0_0x962dcf,_0x2928bc=document['getElementById'](_0x4ec9be(0x1da)),_0x1cbfdc=_0x2928bc['getContext']('2d'),_0x405ebd=_0x2928bc['width'],_0x490c8b=_0x2928bc[_0x4ec9be(0x1f7)],_0x35fd9b=0xa;_0x1cbfdc[_0x4ec9be(0x16e)]=_0x4ec9be(0x264),_0x1cbfdc['fillRect'](0x0,0x0,_0x405ebd,_0x490c8b),_0x1cbfdc[_0x4ec9be(0x16e)]=_0x4ec9be(0x1d6),_0x1cbfdc[_0x4ec9be(0x233)]=_0x4ec9be(0x203),_0x1cbfdc[_0x4ec9be(0x284)]=_0x4ec9be(0x150),_0x1cbfdc['fillText']('Site:\x20'+siteName,0xa,0x19),_0x1cbfdc['font']=_0x4ec9be(0x26a),_0x1cbfdc[_0x4ec9be(0x16d)]('Survey\x20Type:\x20'+(selectedSurveyType===_0x4ec9be(0x231)?_0x4ec9be(0x13c):_0x4ec9be(0x289)),0xa,0x2d);const _0xdabdb2=[...markers,...linePoints];currentPosition&&isManualPosition&&_0xdabdb2['push'](currentPosition);startFromMarkerPosition&&_0xdabdb2['push'](startFromMarkerPosition);if(_0xdabdb2[_0x4ec9be(0x241)]===0x0){_0x1cbfdc['fillStyle']=_0x4ec9be(0x2b4),_0x1cbfdc['font']=_0x4ec9be(0x1a7),_0x1cbfdc[_0x4ec9be(0x284)]=_0x4ec9be(0x1f0),_0x1cbfdc[_0x4ec9be(0x16d)](_0x4ec9be(0x25f),_0x405ebd/0x2,_0x490c8b/0x2);return;}const _0x19f393=_0xdabdb2[_0x4ec9be(0x1b3)](_0x3e4ca7=>_0x3e4ca7[_0x4ec9be(0x16c)]),_0xf98bf3=_0xdabdb2[_0x4ec9be(0x1b3)](_0x4387f3=>_0x4387f3[_0x4ec9be(0x29a)]),_0x17675e=Math[_0x4ec9be(0x27c)](..._0x19f393),_0x482d38=Math[_0x4ec9be(0x219)](..._0x19f393),_0x26dcea=Math['min'](..._0xf98bf3),_0x5e9041=Math['max'](..._0xf98bf3),_0x33aabb=0x28,_0x3c1af6=_0x482d38-_0x17675e||0.001,_0x344ce0=_0x5e9041-_0x26dcea||0.001,_0x504f5f=(_0x405ebd-0x2*_0x33aabb)/_0x344ce0,_0x5963da=(_0x490c8b-0x2*_0x33aabb)/_0x3c1af6,_0x383cb2=Math[_0x4ec9be(0x27c)](_0x504f5f,_0x5963da),_0xc85fb=_0x383cb2*canvasZoomScale,_0x503a53=_0x1979c5=>_0x33aabb+(_0x1979c5-_0x26dcea)*_0xc85fb,_0x53e698=_0x2c5573=>_0x490c8b-_0x33aabb-(_0x2c5573-_0x17675e)*_0xc85fb;if(_0x17675e&&_0x26dcea){const _0x17fc4f={'lat':_0x17675e,'lng':_0x26dcea},_0xa0b306=offsetLatLng(_0x17fc4f[_0x4ec9be(0x16c)],_0x17fc4f['lng'],0x0,_0x35fd9b),_0x3e7457=offsetLatLng(_0x17fc4f['lat'],_0x17fc4f[_0x4ec9be(0x29a)],_0x35fd9b,0x0),_0x133f46=_0xa0b306[_0x4ec9be(0x16c)]-_0x17fc4f[_0x4ec9be(0x16c)],_0x485604=_0x3e7457['lng']-_0x17fc4f[_0x4ec9be(0x29a)];_0x1cbfdc[_0x4ec9be(0x274)]='rgba(150,\x20150,\x20150,\x200.5)',_0x1cbfdc[_0x4ec9be(0x273)]=0.5;let _0x4add6f=_0x17675e-_0x3c1af6/0xa;while(_0x4add6f<=_0x482d38+_0x3c1af6/0xa){_0x1cbfdc[_0x4ec9be(0x172)]();const _0x36c67d=_0x53e698(_0x4add6f);_0x1cbfdc['moveTo'](0x0,_0x36c67d),_0x1cbfdc[_0x4ec9be(0x29f)](_0x405ebd,_0x36c67d),_0x1cbfdc[_0x4ec9be(0x234)](),_0x4add6f+=_0x133f46;}let _0x20ff0c=_0x26dcea-_0x344ce0/0xa;while(_0x20ff0c<=_0x5e9041+_0x344ce0/0xa){_0x1cbfdc[_0x4ec9be(0x172)]();const _0x36adf7=_0x503a53(_0x20ff0c);_0x1cbfdc[_0x4ec9be(0x184)](_0x36adf7,0x0),_0x1cbfdc[_0x4ec9be(0x29f)](_0x36adf7,_0x490c8b),_0x1cbfdc[_0x4ec9be(0x234)](),_0x20ff0c+=_0x485604;}_0x1cbfdc[_0x4ec9be(0x16e)]='rgba(100,\x20100,\x20100,\x200.8)',_0x1cbfdc[_0x4ec9be(0x233)]='10px\x20Arial',_0x1cbfdc[_0x4ec9be(0x284)]=_0x4ec9be(0x295),_0x1cbfdc[_0x4ec9be(0x16d)](_0x4ec9be(0x182)+_0x35fd9b+_0x4ec9be(0x1e7)+_0x35fd9b+'m',_0x405ebd-0xa,_0x490c8b-0xa);}const _0x5133bb=selectedSurveyType===_0x4ec9be(0x231),_0x50eba3=_0x5133bb?[0xa,0x5]:[];if(linePoints[_0x4ec9be(0x241)]>0x1){_0x1cbfdc[_0x4ec9be(0x274)]=_0x4ec9be(0x186),_0x1cbfdc[_0x4ec9be(0x273)]=0x1,_0x1cbfdc['beginPath'](),_0x1cbfdc[_0x4ec9be(0x184)](_0x503a53(linePoints[0x0][_0x4ec9be(0x29a)]),_0x53e698(linePoints[0x0][_0x4ec9be(0x16c)]));for(let _0x4c9e06=0x1;_0x4c9e06<linePoints['length'];_0x4c9e06++){_0x1cbfdc[_0x4ec9be(0x29f)](_0x503a53(linePoints[_0x4c9e06][_0x4ec9be(0x29a)]),_0x53e698(linePoints[_0x4c9e06][_0x4ec9be(0x16c)]));}_0x1cbfdc[_0x4ec9be(0x234)]();}if(markers[_0x4ec9be(0x241)]>0x1)for(let _0x7e99e5=0x1;_0x7e99e5<markers[_0x4ec9be(0x241)];_0x7e99e5++){const _0xb19b16=markers[_0x7e99e5-0x1],_0x5074b1=markers[_0x7e99e5];if(_0x5074b1[_0x4ec9be(0x1f8)]){if(_0x5074b1[_0x4ec9be(0x21b)]){const _0x237ac3=markers[_0x4ec9be(0x166)](_0x18164a=>_0x18164a['id']===_0x5074b1[_0x4ec9be(0x21b)]);if(_0x237ac3){const _0xe61b67=lineConfig[_0x5074b1[_0x4ec9be(0x192)]]?lineConfig[_0x5074b1['lineSubtype']][_0x4ec9be(0x1c5)]:_0x4ec9be(0x20d);_0x1cbfdc['strokeStyle']=_0xe61b67,_0x1cbfdc[_0x4ec9be(0x273)]=0x3,_0x1cbfdc['setLineDash'](_0x50eba3),_0x1cbfdc[_0x4ec9be(0x172)](),_0x1cbfdc[_0x4ec9be(0x184)](_0x503a53(_0x237ac3['lng']),_0x53e698(_0x237ac3[_0x4ec9be(0x16c)])),_0x1cbfdc[_0x4ec9be(0x29f)](_0x503a53(_0x5074b1[_0x4ec9be(0x29a)]),_0x53e698(_0x5074b1[_0x4ec9be(0x16c)])),_0x1cbfdc[_0x4ec9be(0x234)](),_0x1cbfdc[_0x4ec9be(0x18b)]([]);}}continue;}const _0xf90328=lineConfig[_0x5074b1[_0x4ec9be(0x192)]]?lineConfig[_0x5074b1[_0x4ec9be(0x192)]][_0x4ec9be(0x1c5)]:'#3b82f6';_0x1cbfdc[_0x4ec9be(0x274)]=_0xf90328,_0x1cbfdc['lineWidth']=0x3,_0x1cbfdc[_0x4ec9be(0x18b)](_0x50eba3),_0x1cbfdc[_0x4ec9be(0x172)](),_0x1cbfdc['moveTo'](_0x503a53(_0xb19b16[_0x4ec9be(0x29a)]),_0x53e698(_0xb19b16[_0x4ec9be(0x16c)])),_0x1cbfdc['lineTo'](_0x503a53(_0x5074b1['lng']),_0x53e698(_0x5074b1[_0x4ec9be(0x16c)])),_0x1cbfdc[_0x4ec9be(0x234)](),_0x1cbfdc[_0x4ec9be(0x18b)]([]);}if(startFromMarkerPosition&&currentPosition){_0x1cbfdc[_0x4ec9be(0x274)]=_0x4ec9be(0x2bc),_0x1cbfdc['lineWidth']=0x2,_0x1cbfdc['setLineDash']([0x5,0x5]),_0x1cbfdc[_0x4ec9be(0x172)](),_0x1cbfdc[_0x4ec9be(0x184)](_0x503a53(startFromMarkerPosition[_0x4ec9be(0x29a)]),_0x53e698(startFromMarkerPosition[_0x4ec9be(0x16c)])),_0x1cbfdc[_0x4ec9be(0x29f)](_0x503a53(currentPosition[_0x4ec9be(0x29a)]),_0x53e698(currentPosition[_0x4ec9be(0x16c)])),_0x1cbfdc[_0x4ec9be(0x234)](),_0x1cbfdc[_0x4ec9be(0x18b)]([]);const _0x2669e5=calculateDistance(startFromMarkerPosition[_0x4ec9be(0x16c)],startFromMarkerPosition[_0x4ec9be(0x29a)],currentPosition[_0x4ec9be(0x16c)],currentPosition[_0x4ec9be(0x29a)]),_0x20f83d=(_0x503a53(startFromMarkerPosition['lng'])+_0x503a53(currentPosition[_0x4ec9be(0x29a)]))/0x2,_0x41d6f6=(_0x53e698(startFromMarkerPosition[_0x4ec9be(0x16c)])+_0x53e698(currentPosition['lat']))/0x2;_0x1cbfdc[_0x4ec9be(0x16e)]='#ffffff',_0x1cbfdc[_0x4ec9be(0x204)](_0x20f83d-0x1e,_0x41d6f6-0xa,0x3c,0x14),_0x1cbfdc[_0x4ec9be(0x16e)]=_0x4ec9be(0x2bc),_0x1cbfdc['font']=_0x4ec9be(0x1fd),_0x1cbfdc[_0x4ec9be(0x284)]=_0x4ec9be(0x1f0),_0x1cbfdc[_0x4ec9be(0x163)]=_0x4ec9be(0x212),_0x1cbfdc[_0x4ec9be(0x16d)](_0x2669e5[_0x4ec9be(0x147)](0x0)+'m',_0x20f83d,_0x41d6f6);}markers[_0x4ec9be(0x285)]((_0x5a006d,_0x256de6)=>{const _0x3d495f=_0x4ec9be,_0x2c140d=markerConfig[_0x5a006d['type']]||{'icon':'‚ùì','color':_0x3d495f(0x158)},_0x2bdee8=lineConfig[_0x5a006d[_0x3d495f(0x192)]]||{'color':'#3b82f6'},_0x236ffd=_0x503a53(_0x5a006d['lng']),_0x34a29c=_0x53e698(_0x5a006d[_0x3d495f(0x16c)]),_0x45c607=_0x256de6+0x1;let _0x181401=_0x2bdee8['color'];_0x5a006d['type']==='dtr'&&(_0x181401=markerConfig['dtr'][_0x3d495f(0x1c5)]);_0x1cbfdc[_0x3d495f(0x274)]=_0x181401,_0x1cbfdc[_0x3d495f(0x273)]=0x2,_0x1cbfdc[_0x3d495f(0x172)](),_0x1cbfdc['arc'](_0x236ffd,_0x34a29c,0xf,0x0,Math['PI']*0x2),_0x1cbfdc[_0x3d495f(0x234)](),_0x1cbfdc[_0x3d495f(0x233)]=_0x3d495f(0x1e5),_0x1cbfdc[_0x3d495f(0x284)]=_0x3d495f(0x1f0),_0x1cbfdc[_0x3d495f(0x163)]=_0x3d495f(0x212),_0x1cbfdc[_0x3d495f(0x16d)](_0x2c140d['icon'],_0x236ffd,_0x34a29c),_0x1cbfdc[_0x3d495f(0x16e)]='#1f2937',_0x1cbfdc['font']=_0x3d495f(0x1fd),_0x1cbfdc['textAlign']='left',_0x1cbfdc[_0x3d495f(0x163)]=_0x3d495f(0x14e),_0x1cbfdc['fillText'](_0x45c607,_0x236ffd+0x12,_0x34a29c-0xa);if(_0x256de6>0x0&&_0x5a006d[_0x3d495f(0x2b2)]>0x0&&!_0x5a006d[_0x3d495f(0x1f8)]){const _0x38c84c=markers[_0x256de6-0x1],_0xe9f322=_0x503a53(_0x38c84c[_0x3d495f(0x29a)]),_0xeda26f=_0x53e698(_0x38c84c[_0x3d495f(0x16c)]),_0x1ae948=(_0x236ffd+_0xe9f322)/0x2,_0x3379c9=(_0x34a29c+_0xeda26f)/0x2,_0x1a2886=lineConfig[_0x5a006d[_0x3d495f(0x192)]]?lineConfig[_0x5a006d[_0x3d495f(0x192)]][_0x3d495f(0x1c5)]:'#3b82f6';_0x1cbfdc[_0x3d495f(0x16e)]=_0x3d495f(0x2a7),_0x1cbfdc[_0x3d495f(0x204)](_0x1ae948-0x19,_0x3379c9-0xa,0x32,0x14),_0x1cbfdc['fillStyle']=_0x1a2886,_0x1cbfdc[_0x3d495f(0x233)]=_0x3d495f(0x1fd),_0x1cbfdc[_0x3d495f(0x284)]=_0x3d495f(0x1f0),_0x1cbfdc[_0x3d495f(0x163)]=_0x3d495f(0x212),_0x1cbfdc[_0x3d495f(0x16d)](_0x5a006d[_0x3d495f(0x2b2)][_0x3d495f(0x147)](0x0)+'m',_0x1ae948,_0x3379c9);}else{if(_0x5a006d[_0x3d495f(0x1f8)]&&_0x5a006d[_0x3d495f(0x21b)]&&_0x5a006d[_0x3d495f(0x2b2)]>0x0){const _0x495399=markers[_0x3d495f(0x166)](_0x2bc0de=>_0x2bc0de['id']===_0x5a006d['startFromMarkerId']);if(_0x495399){const _0x189d01=_0x503a53(_0x495399[_0x3d495f(0x29a)]),_0x498812=_0x53e698(_0x495399[_0x3d495f(0x16c)]),_0x1c06cf=(_0x236ffd+_0x189d01)/0x2,_0x47d6ea=(_0x34a29c+_0x498812)/0x2,_0x45ebd8=lineConfig[_0x5a006d[_0x3d495f(0x192)]]?lineConfig[_0x5a006d[_0x3d495f(0x192)]][_0x3d495f(0x1c5)]:_0x3d495f(0x20d);_0x1cbfdc[_0x3d495f(0x16e)]=_0x3d495f(0x2a7),_0x1cbfdc[_0x3d495f(0x204)](_0x1c06cf-0x19,_0x47d6ea-0xa,0x32,0x14),_0x1cbfdc[_0x3d495f(0x16e)]=_0x45ebd8,_0x1cbfdc[_0x3d495f(0x233)]=_0x3d495f(0x1fd),_0x1cbfdc[_0x3d495f(0x284)]='center',_0x1cbfdc[_0x3d495f(0x163)]='middle',_0x1cbfdc[_0x3d495f(0x16d)](_0x5a006d[_0x3d495f(0x2b2)]['toFixed'](0x0)+'m',_0x1c06cf,_0x47d6ea);}}}});if(currentPosition){const _0x5dc181=_0x503a53(currentPosition[_0x4ec9be(0x29a)]),_0x4722fe=_0x53e698(currentPosition[_0x4ec9be(0x16c)]);isManualPosition?(_0x1cbfdc[_0x4ec9be(0x16e)]=_0x4ec9be(0x2bc),_0x1cbfdc['strokeStyle']=_0x4ec9be(0x2a7),_0x1cbfdc[_0x4ec9be(0x273)]=0x3,_0x1cbfdc[_0x4ec9be(0x172)](),_0x1cbfdc[_0x4ec9be(0x28c)](_0x5dc181,_0x4722fe,0xa,0x0,Math['PI']*0x2),_0x1cbfdc[_0x4ec9be(0x23e)](),_0x1cbfdc[_0x4ec9be(0x234)](),_0x1cbfdc[_0x4ec9be(0x16e)]=_0x4ec9be(0x2a7),_0x1cbfdc[_0x4ec9be(0x233)]=_0x4ec9be(0x1fd),_0x1cbfdc[_0x4ec9be(0x16d)](_0x4ec9be(0x181),_0x5dc181,_0x4722fe+0x1)):(_0x1cbfdc[_0x4ec9be(0x16e)]='#10b981',_0x1cbfdc[_0x4ec9be(0x172)](),_0x1cbfdc[_0x4ec9be(0x28c)](_0x5dc181,_0x4722fe,0x8,0x0,Math['PI']*0x2),_0x1cbfdc[_0x4ec9be(0x23e)](),_0x1cbfdc[_0x4ec9be(0x274)]='#ffffff',_0x1cbfdc['lineWidth']=0x2,_0x1cbfdc[_0x4ec9be(0x234)]());}}let leafletMapInstance=null,leafletMarkers=[],leafletPolylines=[],mapTiles=null,satelliteTiles=null;function initLeafletMap(){const _0x292a4f=a0_0x962dcf;let _0x9d22c2=31.7831,_0x548dc0=76.9926;if(markers['length']>0x0)_0x9d22c2=markers[0x0]['lat'],_0x548dc0=markers[0x0][_0x292a4f(0x29a)];else currentPosition&&(_0x9d22c2=currentPosition[_0x292a4f(0x16c)],_0x548dc0=currentPosition[_0x292a4f(0x29a)]);leafletMapInstance&&leafletMapInstance[_0x292a4f(0x145)]();leafletMapInstance=L[_0x292a4f(0x1b3)]('leafletMap')['setView']([_0x9d22c2,_0x548dc0],0xf),satelliteTiles=L[_0x292a4f(0x1bd)](_0x292a4f(0x23a),{'attribution':_0x292a4f(0x257)})[_0x292a4f(0x2b7)](leafletMapInstance),mapTiles=L[_0x292a4f(0x1bd)]('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{'attribution':_0x292a4f(0x1fa)});const _0x574b17={'Satellite\x20View':satelliteTiles,'Street\x20Map':mapTiles};L[_0x292a4f(0x23b)][_0x292a4f(0x20f)](_0x574b17)[_0x292a4f(0x2b7)](leafletMapInstance),drawLeafletMap();}function drawLeafletMap(){const _0x490de6=a0_0x962dcf;if(!leafletMapInstance){initLeafletMap();return;}leafletMarkers['forEach'](_0x56f775=>_0x56f775[_0x490de6(0x145)]()),leafletMarkers=[],leafletPolylines[_0x490de6(0x285)](_0x3d38a4=>_0x3d38a4[_0x490de6(0x145)]()),leafletPolylines=[];let _0x20dfd4=[],_0x49114b=lineConfig[selectedLineSubtype]?lineConfig[selectedLineSubtype][_0x490de6(0x1c5)]:_0x490de6(0x20d);const _0x359dbd=selectedSurveyType===_0x490de6(0x231),_0x5c7688=_0x359dbd?_0x490de6(0x27b):null;for(let _0x3ff489=0x0;_0x3ff489<markers[_0x490de6(0x241)];_0x3ff489++){const _0x25a304=markers[_0x3ff489],_0x4bc151=lineConfig[_0x25a304[_0x490de6(0x192)]]||{'color':_0x490de6(0x20d)};if(_0x3ff489>0x0){const _0xa00a47=markers[_0x3ff489-0x1];if(!_0x25a304[_0x490de6(0x1f8)]){_0x20dfd4[_0x490de6(0x24a)]([_0x25a304[_0x490de6(0x16c)],_0x25a304[_0x490de6(0x29a)]]);let _0x1be292=_0x4bc151[_0x490de6(0x1c5)];if(_0x1be292!==_0x49114b||_0x3ff489===markers[_0x490de6(0x241)]-0x1){const _0x56908e=L[_0x490de6(0x27a)](_0x20dfd4,{'color':_0x49114b,'weight':0x4,'opacity':0x1,'dashArray':_0x5c7688})[_0x490de6(0x2b7)](leafletMapInstance);leafletPolylines['push'](_0x56908e),_0x1be292!==_0x49114b&&(_0x20dfd4=[[_0xa00a47[_0x490de6(0x16c)],_0xa00a47[_0x490de6(0x29a)]],[_0x25a304[_0x490de6(0x16c)],_0x25a304[_0x490de6(0x29a)]]],_0x49114b=_0x1be292);}}else{if(_0x25a304[_0x490de6(0x21b)]){const _0x445f65=markers['find'](_0x29859a=>_0x29859a['id']===_0x25a304[_0x490de6(0x21b)]);if(_0x445f65){const _0x5f3fa9=L[_0x490de6(0x27a)]([[_0x445f65['lat'],_0x445f65[_0x490de6(0x29a)]],[_0x25a304[_0x490de6(0x16c)],_0x25a304[_0x490de6(0x29a)]]],{'color':_0x4bc151[_0x490de6(0x1c5)],'weight':0x4,'opacity':0x1,'dashArray':_0x5c7688})[_0x490de6(0x2b7)](leafletMapInstance);leafletPolylines['push'](_0x5f3fa9);}}_0x20dfd4=[[_0x25a304[_0x490de6(0x16c)],_0x25a304['lng']]],_0x49114b=_0x4bc151[_0x490de6(0x1c5)];}}else _0x20dfd4['push']([_0x25a304['lat'],_0x25a304[_0x490de6(0x29a)]]),_0x49114b=_0x4bc151['color'];if(_0x3ff489===markers['length']-0x1&&_0x20dfd4[_0x490de6(0x241)]>0x1){const _0x569aad=L[_0x490de6(0x27a)](_0x20dfd4,{'color':_0x49114b,'weight':0x4,'opacity':0x1,'dashArray':_0x5c7688})['addTo'](leafletMapInstance);leafletPolylines[_0x490de6(0x24a)](_0x569aad);}}if(startFromMarkerPosition&&currentPosition){const _0x92f986=L[_0x490de6(0x27a)]([[startFromMarkerPosition['lat'],startFromMarkerPosition['lng']],[currentPosition[_0x490de6(0x16c)],currentPosition[_0x490de6(0x29a)]]],{'color':_0x490de6(0x2bc),'weight':0x3,'opacity':0.7,'dashArray':'5,\x2010'})['addTo'](leafletMapInstance);leafletPolylines[_0x490de6(0x24a)](_0x92f986);}markers[_0x490de6(0x285)]((_0x4bbe21,_0x1cd25f)=>{const _0x4aff4f=_0x490de6,_0x455997=markerConfig[_0x4bbe21[_0x4aff4f(0x15e)]]||{'label':_0x4aff4f(0x154),'icon':'‚ùì'},_0x16986e=lineConfig[_0x4bbe21[_0x4aff4f(0x192)]]||{'label':_0x4aff4f(0x142),'color':'#3b82f6'},_0xd7656a=conductorConfig[_0x4bbe21[_0x4aff4f(0x201)]]||{'label':_0x4aff4f(0x168)},_0xdaa9ed=_0x1cd25f+0x1;let _0xc19af8=_0x16986e['color'];_0x4bbe21[_0x4aff4f(0x15e)]===_0x4aff4f(0x207)&&(_0xc19af8=markerConfig[_0x4aff4f(0x207)][_0x4aff4f(0x1c5)]);const _0x40fb0b=_0x1cd25f>0x0&&_0x4bbe21['spanLength']&&!_0x4bbe21[_0x4aff4f(0x1f8)]?_0x4bbe21[_0x4aff4f(0x2b2)][_0x4aff4f(0x147)](0x0)+'m\x20Span':_0x4bbe21[_0x4aff4f(0x1f8)]&&_0x4bbe21[_0x4aff4f(0x2b2)]>0x0?_0x4bbe21['spanLength'][_0x4aff4f(0x147)](0x0)+_0x4aff4f(0x23f):_0x4bbe21[_0x4aff4f(0x1f8)]?_0x4aff4f(0x249):'',_0x16fb71=L[_0x4aff4f(0x240)]({'className':'custom-marker','html':_0x4aff4f(0x2ab)+_0xc19af8+_0x4aff4f(0x24e)+_0xdaa9ed+_0x4aff4f(0x213),'iconSize':[0x1e,0x1e],'iconAnchor':[0xf,0xf]}),_0x352dc8=L['marker']([_0x4bbe21[_0x4aff4f(0x16c)],_0x4bbe21[_0x4aff4f(0x29a)]],{'icon':_0x16fb71,'title':_0x455997[_0x4aff4f(0x1fe)]+'\x20#'+_0xdaa9ed})[_0x4aff4f(0x2b7)](leafletMapInstance);_0x352dc8[_0x4aff4f(0x2a4)](_0x4aff4f(0x14f)+_0x455997[_0x4aff4f(0x1fe)]+'\x20#'+_0xdaa9ed+_0x4aff4f(0x18c)+(_0x4bbe21[_0x4aff4f(0x26c)]===_0x4aff4f(0x231)?'Proposed':'Existing')+'<br>\x0a\x20\x20\x20\x20Line:\x20'+_0x16986e[_0x4aff4f(0x1fe)]+_0x4aff4f(0x165)+_0xd7656a[_0x4aff4f(0x1fe)]+_0x4aff4f(0x1d3)+_0x4bbe21[_0x4aff4f(0x16c)][_0x4aff4f(0x147)](0x6)+_0x4aff4f(0x1f5)+_0x4bbe21[_0x4aff4f(0x29a)]['toFixed'](0x6)+_0x4aff4f(0x1b2)+_0x40fb0b+_0x4aff4f(0x2a5)),leafletMarkers[_0x4aff4f(0x24a)](_0x352dc8);});if(currentPosition){let _0x4a7963;isManualPosition?_0x4a7963=L[_0x490de6(0x27f)]([currentPosition['lat'],currentPosition[_0x490de6(0x29a)]],{'radius':0x8,'color':'#a855f7','fillColor':'#a855f7','fillOpacity':0x1,'weight':0x3})[_0x490de6(0x2a4)]('Manual\x20Start\x20Location')[_0x490de6(0x2b7)](leafletMapInstance):_0x4a7963=L[_0x490de6(0x27f)]([currentPosition[_0x490de6(0x16c)],currentPosition[_0x490de6(0x29a)]],{'radius':0x5,'color':'#ffffff','fillColor':_0x490de6(0x13f),'fillOpacity':0x1,'weight':0x2})[_0x490de6(0x2a4)](_0x490de6(0x167)+accuracy['toFixed'](0x1)+'m')[_0x490de6(0x2b7)](leafletMapInstance),leafletMarkers[_0x490de6(0x24a)](_0x4a7963);}if(markers['length']>0x0){const _0x5001cc=markers['map'](_0x3d08c9=>[_0x3d08c9[_0x490de6(0x16c)],_0x3d08c9[_0x490de6(0x29a)]]);if(currentPosition)_0x5001cc['push']([currentPosition[_0x490de6(0x16c)],currentPosition[_0x490de6(0x29a)]]);if(startFromMarkerPosition)_0x5001cc['push']([startFromMarkerPosition[_0x490de6(0x16c)],startFromMarkerPosition[_0x490de6(0x29a)]]);if(_0x5001cc[_0x490de6(0x241)]>0x1)leafletMapInstance['fitBounds'](_0x5001cc,{'padding':[0x1e,0x1e]});else _0x5001cc[_0x490de6(0x241)]===0x1&&leafletMapInstance[_0x490de6(0x238)](_0x5001cc[0x0],0x11);}}async function requestGeolocationPermissionIfNeeded(){const _0x4f9246=a0_0x962dcf;try{const _0x1ede89=getCapacitorPlugin(_0x4f9246(0x191));if(_0x1ede89&&_0x1ede89[_0x4f9246(0x2b8)]){await _0x1ede89[_0x4f9246(0x2b8)]();return;}if(navigator[_0x4f9246(0x1c0)])try{await navigator[_0x4f9246(0x1c0)][_0x4f9246(0x270)]({'name':'geolocation'});}catch(_0xab439a){}}catch(_0x34f0c4){}}async function startTracking(){const _0x364d2f=a0_0x962dcf;await requestGeolocationPermissionIfNeeded();if(!navigator[_0x364d2f(0x16f)]&&!getCapacitorPlugin(_0x364d2f(0x191))){alert(_0x364d2f(0x22f));return;}isTracking=!![],isManualPosition=![],startFromMarkerIndex=null,startFromMarkerPosition=null,initialFixAttempt=!![],document['getElementById']('startBtn')[_0x364d2f(0x187)][_0x364d2f(0x1bf)]='none',document[_0x364d2f(0x1c9)](_0x364d2f(0x1e6))[_0x364d2f(0x187)][_0x364d2f(0x1bf)]=_0x364d2f(0x1d4),document[_0x364d2f(0x1c9)]('addMarkerBtn')[_0x364d2f(0x1dc)]=!![],gpsStatusElement['textContent']=_0x364d2f(0x22b),gpsStatusElement[_0x364d2f(0x187)][_0x364d2f(0x1c5)]=_0x364d2f(0x1bb),initialFixTimeoutId=setTimeout(()=>{const _0x11b01b=_0x364d2f;initialFixAttempt&&(gpsStatusElement[_0x11b01b(0x1c7)]=_0x11b01b(0x2bf),gpsStatusElement['style']['color']=_0x11b01b(0x26d),document[_0x11b01b(0x1c9)]('addMarkerBtn')[_0x11b01b(0x1dc)]=![],initialFixAttempt=![]);},INITIAL_FIX_TIMEOUT);const _0x5dc071=getCapacitorPlugin(_0x364d2f(0x191));if(_0x5dc071&&_0x5dc071[_0x364d2f(0x157)])try{watchId=await _0x5dc071[_0x364d2f(0x157)]({'enableHighAccuracy':!![],'timeout':0x1388,'maximumAge':0x0},(_0x3ca82d,_0x2293b8)=>{const _0x15d254=_0x364d2f;if(_0x2293b8){console['error'](_0x15d254(0x171),_0x2293b8),gpsStatusElement[_0x15d254(0x1c7)]='GPS\x20Error:\x20'+_0x2293b8,gpsStatusElement[_0x15d254(0x187)][_0x15d254(0x1c5)]=_0x15d254(0x26d),stopTracking();return;}if(!_0x3ca82d||!_0x3ca82d[_0x15d254(0x260)])return;handleNewPosition({'latitude':_0x3ca82d[_0x15d254(0x260)][_0x15d254(0x1c8)],'longitude':_0x3ca82d[_0x15d254(0x260)]['longitude'],'accuracy':_0x3ca82d[_0x15d254(0x260)][_0x15d254(0x222)]});});}catch(_0x1466c7){console[_0x364d2f(0x139)]('Native\x20watch\x20failed,\x20falling\x20back\x20to\x20browser',_0x1466c7),startTrackingBrowser();}else startTrackingBrowser();}function startTrackingBrowser(){const _0x135f1c=a0_0x962dcf;if(!navigator[_0x135f1c(0x16f)]){alert(_0x135f1c(0x210));return;}watchId=navigator[_0x135f1c(0x16f)][_0x135f1c(0x157)](_0x5386c7=>{const _0x3a2e2d=_0x135f1c;handleNewPosition({'latitude':_0x5386c7['coords'][_0x3a2e2d(0x1c8)],'longitude':_0x5386c7[_0x3a2e2d(0x260)][_0x3a2e2d(0x1dd)],'accuracy':_0x5386c7[_0x3a2e2d(0x260)][_0x3a2e2d(0x222)]});},_0x408d59=>{const _0xead5b1=_0x135f1c;console[_0xead5b1(0x206)](_0xead5b1(0x1a9),_0x408d59),gpsStatusElement['textContent']=_0xead5b1(0x24c)+_0x408d59[_0xead5b1(0x22e)],gpsStatusElement[_0xead5b1(0x187)]['color']=_0xead5b1(0x26d),alert(_0xead5b1(0x1f9)),stopTracking();},{'enableHighAccuracy':!![],'timeout':0x1388,'maximumAge':0x0});}function handleNewPosition(_0x321113){const _0xc21b1f=a0_0x962dcf;accuracy=_0x321113[_0xc21b1f(0x222)];if(initialFixAttempt){if(accuracy<=ACCURACY_THRESHOLD)clearTimeout(initialFixTimeoutId),initialFixAttempt=![],document[_0xc21b1f(0x1c9)](_0xc21b1f(0x183))[_0xc21b1f(0x1dc)]=![],gpsStatusElement[_0xc21b1f(0x1c7)]=_0xc21b1f(0x1cd)+accuracy[_0xc21b1f(0x147)](0x1)+'m',gpsStatusElement[_0xc21b1f(0x187)][_0xc21b1f(0x1c5)]=_0xc21b1f(0x13f);else{gpsStatusElement[_0xc21b1f(0x1c7)]='Searching\x20for\x20high-accuracy\x20GPS\x20fix...\x20(Current:\x20¬±'+accuracy[_0xc21b1f(0x147)](0x1)+'m)',updateUI();return;}}if(accuracy>MAX_ACCURACY_ERROR){console[_0xc21b1f(0x139)](_0xc21b1f(0x2b3),accuracy),updateUI();return;}const _0x7c68e3={'lat':_0x321113['latitude'],'lng':_0x321113[_0xc21b1f(0x1dd)],'timestamp':Date[_0xc21b1f(0x1f3)]()};if(linePoints[_0xc21b1f(0x241)]>0x0){const _0x9fb24=linePoints[linePoints['length']-0x1],_0x2414ee=calculateDistance(_0x9fb24[_0xc21b1f(0x16c)],_0x9fb24[_0xc21b1f(0x29a)],_0x7c68e3[_0xc21b1f(0x16c)],_0x7c68e3[_0xc21b1f(0x29a)]);if(_0x2414ee<MIN_MOVEMENT_DISTANCE){currentPosition=_0x7c68e3,updateUI();return;}}currentPosition=_0x7c68e3,linePoints['push'](_0x7c68e3),updateTotalDistance(),updateUI();try{drawMap();}catch(_0x3fd14c){}try{drawLeafletMap();}catch(_0x247111){}}function stopTracking(){const _0x1d7e70=a0_0x962dcf,_0xf1335d=getCapacitorPlugin(_0x1d7e70(0x191));if(_0xf1335d&&_0xf1335d['clearWatch']&&typeof watchId!==_0x1d7e70(0x29d))try{_0xf1335d[_0x1d7e70(0x1a3)]({'id':watchId});}catch(_0x97acc1){}if(watchId&&navigator[_0x1d7e70(0x16f)]&&navigator[_0x1d7e70(0x16f)][_0x1d7e70(0x1a3)])navigator['geolocation'][_0x1d7e70(0x1a3)](watchId);watchId=null,clearTimeout(initialFixTimeoutId),initialFixAttempt=![],isTracking=![],isManualPosition=![],startFromMarkerIndex=null,startFromMarkerPosition=null,document[_0x1d7e70(0x1c9)](_0x1d7e70(0x16b))['style'][_0x1d7e70(0x1bf)]='flex',document[_0x1d7e70(0x1c9)]('stopBtn')[_0x1d7e70(0x187)][_0x1d7e70(0x1bf)]='none',document['getElementById'](_0x1d7e70(0x183))[_0x1d7e70(0x1dc)]=!![],gpsStatusElement['textContent']=_0x1d7e70(0x21d),gpsStatusElement[_0x1d7e70(0x187)]['color']=_0x1d7e70(0x158);}function startFromMarker(_0x3d211b){const _0x4a9716=a0_0x962dcf,_0x34a57e=markers['findIndex'](_0x5e357f=>_0x5e357f['id']==_0x3d211b);if(_0x34a57e===-0x1)return;const _0x2f821a=markers[_0x34a57e];startFromMarkerIndex=_0x34a57e,startFromMarkerPosition={'lat':_0x2f821a[_0x4a9716(0x16c)],'lng':_0x2f821a['lng']},!isTracking?(isTracking=!![],initialFixAttempt=![],document[_0x4a9716(0x1c9)](_0x4a9716(0x16b))['style'][_0x4a9716(0x1bf)]=_0x4a9716(0x190),document[_0x4a9716(0x1c9)](_0x4a9716(0x1e6))[_0x4a9716(0x187)][_0x4a9716(0x1bf)]=_0x4a9716(0x1d4),document[_0x4a9716(0x1c9)](_0x4a9716(0x183))['disabled']=![],gpsStatusElement[_0x4a9716(0x1c7)]=_0x4a9716(0x2aa),gpsStatusElement['style'][_0x4a9716(0x1c5)]='#f97316',startTracking()):(gpsStatusElement[_0x4a9716(0x1c7)]='Starting\x20from\x20Marker\x20#'+(_0x34a57e+0x1)+_0x4a9716(0x254),gpsStatusElement['style'][_0x4a9716(0x1c5)]=_0x4a9716(0x2bc)),updateMarkersList(),drawMap(),drawLeafletMap();}function addMarker(){const _0x3586f1=a0_0x962dcf;if(!currentPosition&&!startFromMarkerPosition){alert(_0x3586f1(0x272));return;}const _0x3c699c=currentPosition||startFromMarkerPosition;if(!_0x3c699c){alert(_0x3586f1(0x148));return;}const _0x3dae56={'id':Date['now'](),'type':selectedMarkerType,'poleType':selectedMarkerType===_0x3586f1(0x288)||selectedMarkerType===_0x3586f1(0x26e)||selectedMarkerType===_0x3586f1(0x207)?window['selectedPoleType']||'HT':null,'lineMainType':selectedLineMainType,'lineSubtype':selectedLineSubtype,'conductorType':selectedConductorType,'surveyType':selectedSurveyType,'lat':_0x3c699c[_0x3586f1(0x16c)],'lng':_0x3c699c['lng'],'timestamp':Date[_0x3586f1(0x1f3)](),'spanLength':0x0,'isLineBreak':![],'startFromMarkerId':null};if(startFromMarkerIndex!==null&&startFromMarkerPosition){_0x3dae56[_0x3586f1(0x1f8)]=!![];const _0x1dc946=calculateDistance(startFromMarkerPosition[_0x3586f1(0x16c)],startFromMarkerPosition[_0x3586f1(0x29a)],_0x3dae56[_0x3586f1(0x16c)],_0x3dae56['lng']);_0x3dae56[_0x3586f1(0x2b2)]=_0x1dc946,_0x3dae56[_0x3586f1(0x21b)]=markers[startFromMarkerIndex]['id'],startFromMarkerIndex=null,startFromMarkerPosition=null;}else{if(markers['length']>0x0){const _0x462112=markers[markers[_0x3586f1(0x241)]-0x1];_0x3dae56[_0x3586f1(0x2b2)]=calculateDistance(_0x462112[_0x3586f1(0x16c)],_0x462112['lng'],_0x3dae56['lat'],_0x3dae56[_0x3586f1(0x29a)]);}}markers[_0x3586f1(0x24a)](_0x3dae56),updateTotalDistance(),updateUI(),drawMap(),drawLeafletMap(),updateMarkersList(),gpsStatusElement['textContent']=_0x3586f1(0x1e4),gpsStatusElement[_0x3586f1(0x187)][_0x3586f1(0x1c5)]=_0x3586f1(0x13f),isManualPosition&&(isManualPosition=![],currentPosition=null,document[_0x3586f1(0x1c9)](_0x3586f1(0x183))[_0x3586f1(0x1dc)]=!![],drawMap(),drawLeafletMap());}function deleteMarker(_0x3f7c10){const _0x42a29a=a0_0x962dcf;markers=markers[_0x42a29a(0x276)](_0xdfb5a9=>_0xdfb5a9['id']!==_0x3f7c10),updateTotalDistance(),updateUI(),drawMap(),drawLeafletMap(),updateMarkersList();}function updateMarkersList(){const _0x36b3f1=a0_0x962dcf;if(markers[_0x36b3f1(0x241)]===0x0){listCard[_0x36b3f1(0x187)][_0x36b3f1(0x1bf)]=_0x36b3f1(0x190);return;}listCard[_0x36b3f1(0x187)]['display']=_0x36b3f1(0x162),list['innerHTML']='',markers[_0x36b3f1(0x285)]((_0x1b51e9,_0x3cdc86)=>{const _0x160625=_0x36b3f1,_0x1c49b8=markerConfig[_0x1b51e9['type']]||{'label':_0x160625(0x154),'icon':'‚ùì'},_0x3d9fab=lineConfig[_0x1b51e9[_0x160625(0x192)]]||{'label':'Unknown\x20Line'},_0x32040c=conductorConfig[_0x1b51e9[_0x160625(0x201)]]||{'label':_0x160625(0x168)};let _0x31314e='';if(_0x1b51e9[_0x160625(0x1f8)]&&_0x1b51e9[_0x160625(0x21b)]&&_0x1b51e9[_0x160625(0x2b2)]>0x0){const _0x487613=markers[_0x160625(0x250)](_0xc04f29=>_0xc04f29['id']===_0x1b51e9[_0x160625(0x21b)]);_0x31314e=_0x160625(0x24b)+_0x1b51e9[_0x160625(0x2b2)][_0x160625(0x147)](0x0)+'m\x20from\x20#'+(_0x487613+0x1)+'</span>';}else{if(_0x3cdc86>0x0&&_0x1b51e9[_0x160625(0x2b2)]&&!_0x1b51e9[_0x160625(0x1f8)])_0x31314e=_0x160625(0x1ab)+_0x1b51e9[_0x160625(0x2b2)][_0x160625(0x147)](0x0)+_0x160625(0x153);else _0x1b51e9[_0x160625(0x1f8)]&&!_0x1b51e9['startFromMarkerId']&&(_0x31314e=_0x160625(0x1b9));}const _0x1e34cd=document[_0x160625(0x208)]('div');_0x1e34cd[_0x160625(0x170)]=_0x160625(0x1a5);const _0x13e276=_0x160625(0x291)+_0x1b51e9['id']+')\x22>Start\x20From\x20Here</button>';_0x1e34cd[_0x160625(0x195)]=_0x160625(0x1ec)+_0x1c49b8['icon']+_0x160625(0x1f4)+_0x1c49b8[_0x160625(0x1fe)]+'\x20#'+(_0x3cdc86+0x1)+'\x20('+_0x3d9fab['label']+_0x160625(0x159)+_0x32040c[_0x160625(0x1fe)]+')\x20'+_0x31314e+_0x160625(0x21f)+_0x1b51e9[_0x160625(0x16c)]['toFixed'](0x6)+_0x160625(0x1f5)+_0x1b51e9[_0x160625(0x29a)]['toFixed'](0x6)+_0x160625(0x26b)+_0x13e276+_0x160625(0x268)+_0x1b51e9['id']+_0x160625(0x19d),list[_0x160625(0x1fc)](_0x1e34cd);});}async function saveFileCapacitor(_0x3debac,_0xa99641,_0x5542fa){const _0x19030e=a0_0x962dcf,_0x2b43ea=window['Capacitor']?.[_0x19030e(0x2b0)]?.[_0x19030e(0x1ea)],_0xf016b2=window['Capacitor']?.['Plugins']?.[_0x19030e(0x202)];if(!_0x2b43ea){const _0x2d8e48=new Blob([Uint8Array[_0x19030e(0x20a)](atob(_0xa99641),_0x27f405=>_0x27f405[_0x19030e(0x1e2)](0x0))],{'type':_0x5542fa});await saveFileNativeFallback(_0x3debac,_0x2d8e48,_0x5542fa);return;}try{const _0x453252=window[_0x19030e(0x1b0)]&&window[_0x19030e(0x1b0)][_0x19030e(0x188)]?window['Capacitor'][_0x19030e(0x188)]():_0x19030e(0x16a);let _0x320932=_0x19030e(0x1c4);if(_0x453252===_0x19030e(0x20c))_0x320932=_0x19030e(0x1c4);else{if(_0x453252==='android')_0x320932=_0x19030e(0x230);else _0x320932=_0x19030e(0x199);}await _0x2b43ea[_0x19030e(0x1e8)]({'path':_0x3debac,'data':_0xa99641,'directory':_0x320932,'recursive':!![]});try{const _0x30e3b7=await _0x2b43ea[_0x19030e(0x185)]({'directory':_0x320932,'path':_0x3debac});_0xf016b2?await _0xf016b2['share']({'title':_0x3debac,'url':_0x30e3b7[_0x19030e(0x256)],'dialogTitle':'Share\x20Survey\x20Data'}):alert(_0x19030e(0x280));}catch(_0x5a8d2a){alert(_0x19030e(0x280));}}catch(_0x2faf06){console[_0x19030e(0x206)](_0x19030e(0x2a3),_0x2faf06),alert(_0x19030e(0x224)+(_0x2faf06[_0x19030e(0x22e)]||_0x2faf06));}}async function saveToJSON(){const _0x298260=a0_0x962dcf,_0x53daf0={'version':_0x298260(0x2c0),'siteName':siteName,'linePoints':linePoints,'markers':markers,'totalDistance':totalDistance,'selectedMarkerType':selectedMarkerType,'selectedLineMainType':selectedLineMainType,'selectedLineSubtype':selectedLineSubtype,'selectedConductorType':selectedConductorType,'surveyType':selectedSurveyType,'lineConfig':lineConfig,'conductorConfig':conductorConfig,'markerConfig':markerConfig},_0x549702=JSON['stringify'](_0x53daf0,null,0x2),_0x1fc9e6=btoa(unescape(encodeURIComponent(_0x549702))),_0x1b63ca=siteName[_0x298260(0x180)](/[^a-z0-9]/gi,'_')+_0x298260(0x1ee)+Date[_0x298260(0x1f3)]()+_0x298260(0x255);await saveFileCapacitor(_0x1b63ca,_0x1fc9e6,_0x298260(0x13d)),alert('JSON\x20saved\x20successfully!');}function loadFromJSON(_0x4aa80d){const _0x560e4c=a0_0x962dcf,_0x504ea3=_0x4aa80d[_0x560e4c(0x267)]['files'][0x0];if(!_0x504ea3)return;const _0x335e57=new FileReader();_0x335e57[_0x560e4c(0x2ba)]=_0x514869=>{const _0x15e249=_0x560e4c;try{const _0x5bfa0f=JSON['parse'](_0x514869[_0x15e249(0x267)]['result']);linePoints=_0x5bfa0f['linePoints']||[],siteName=_0x5bfa0f['siteName']||_0x15e249(0x277),document[_0x15e249(0x1c9)](_0x15e249(0x2ad))[_0x15e249(0x24f)]=siteName,selectedSurveyType=_0x5bfa0f[_0x15e249(0x26c)]||_0x15e249(0x231),selectedLineSubtype=_0x5bfa0f[_0x15e249(0x2a0)]||_0x5bfa0f[_0x15e249(0x192)]||_0x15e249(0x232),selectedLineMainType=_0x5bfa0f[_0x15e249(0x17e)]||selectedLineSubtype[_0x15e249(0x198)]('_')[0x0]||'HT',selectedConductorType=_0x5bfa0f[_0x15e249(0x2a2)]||_0x5bfa0f[_0x15e249(0x201)]||'ACSR_6_1_472',selectedMarkerType=_0x5bfa0f[_0x15e249(0x296)]||_0x15e249(0x288),markers=(_0x5bfa0f[_0x15e249(0x22c)]||[])[_0x15e249(0x1b3)](_0x56a3cb=>({'id':_0x56a3cb['id']||Date[_0x15e249(0x1f3)](),'type':_0x56a3cb[_0x15e249(0x15e)]||_0x15e249(0x288),'poleType':_0x56a3cb[_0x15e249(0x1cf)]||_0x56a3cb[_0x15e249(0x1cf)]||null,'lineMainType':_0x56a3cb[_0x15e249(0x28d)]||(_0x56a3cb['lineSubtype']||_0x15e249(0x232))[_0x15e249(0x198)]('_')[0x0],'lineSubtype':_0x56a3cb[_0x15e249(0x192)]||'HT_11kV','conductorType':_0x56a3cb[_0x15e249(0x201)]||_0x15e249(0x1c2),'surveyType':_0x56a3cb[_0x15e249(0x26c)]||_0x15e249(0x231),'lat':_0x56a3cb[_0x15e249(0x16c)],'lng':_0x56a3cb[_0x15e249(0x29a)],'timestamp':_0x56a3cb['timestamp'],'spanLength':_0x56a3cb[_0x15e249(0x2b2)]?parseFloat(_0x56a3cb[_0x15e249(0x2b2)]):0x0,'isLineBreak':_0x56a3cb[_0x15e249(0x1f8)]||![],'startFromMarkerId':_0x56a3cb[_0x15e249(0x21b)]||null})),populateConductorType(),updateMarkerSelectors(),selectMarkerType(selectedMarkerType),updateTotalDistance(),updateUI(),drawMap(),initLeafletMap(),updateMarkersList(),alert(_0x15e249(0x262)+(_0x5bfa0f[_0x15e249(0x28a)]||_0x15e249(0x154))+')');}catch(_0x1e813c){console[_0x15e249(0x206)]('Load\x20JSON\x20Error:',_0x1e813c),alert(_0x15e249(0x1b4));}},_0x335e57[_0x560e4c(0x223)](_0x504ea3),_0x4aa80d[_0x560e4c(0x267)][_0x560e4c(0x24f)]='';}function drawLegend(_0x4c7d69,_0x3787ad,_0x38fee8,_0x264db9){const _0x1e5b11=a0_0x962dcf,_0x1182c2=0xa*_0x264db9,_0x3c1112=0x1e*_0x264db9,_0x29439a=0x1f4*_0x264db9,_0x5b3e3f=0x16*_0x264db9,_0x1a8df3=0x10*_0x264db9;let _0x5415d6=_0x38fee8;_0x4c7d69[_0x1e5b11(0x274)]='#d1d5db',_0x4c7d69[_0x1e5b11(0x273)]=0x2*_0x264db9,_0x4c7d69[_0x1e5b11(0x20b)](_0x3787ad,_0x38fee8,_0x29439a,0x0),_0x4c7d69['fillStyle']='#1f2937',_0x4c7d69[_0x1e5b11(0x233)]=_0x1e5b11(0x169)+_0x5b3e3f+'px\x20Arial',_0x4c7d69[_0x1e5b11(0x284)]='left',_0x4c7d69[_0x1e5b11(0x16d)](_0x1e5b11(0x237),_0x3787ad+_0x1182c2,_0x5415d6+_0x1182c2+0x5*_0x264db9),_0x5415d6+=0x2*_0x1182c2+_0x5b3e3f,_0x4c7d69[_0x1e5b11(0x233)]=_0x1a8df3+_0x1e5b11(0x29c),_0x4c7d69[_0x1e5b11(0x16d)](_0x1e5b11(0x253),_0x3787ad+_0x1182c2,_0x5415d6),_0x5415d6+=_0x3c1112,_0x4c7d69['strokeStyle']=_0x1e5b11(0x20d),_0x4c7d69[_0x1e5b11(0x273)]=0x3*_0x264db9,_0x4c7d69[_0x1e5b11(0x18b)]([0xa*_0x264db9,0x5*_0x264db9]),_0x4c7d69[_0x1e5b11(0x172)](),_0x4c7d69[_0x1e5b11(0x184)](_0x3787ad+_0x1182c2,_0x5415d6-0x5*_0x264db9),_0x4c7d69[_0x1e5b11(0x29f)](_0x3787ad+_0x1182c2+0x32*_0x264db9,_0x5415d6-0x5*_0x264db9),_0x4c7d69[_0x1e5b11(0x234)](),_0x4c7d69['setLineDash']([]),_0x4c7d69['fillStyle']='#1f2937',_0x4c7d69[_0x1e5b11(0x16d)](':\x20Proposed\x20Line/Span',_0x3787ad+_0x1182c2+0x3c*_0x264db9,_0x5415d6),_0x5415d6+=_0x3c1112,_0x4c7d69[_0x1e5b11(0x274)]=_0x1e5b11(0x20d),_0x4c7d69[_0x1e5b11(0x273)]=0x3*_0x264db9,_0x4c7d69[_0x1e5b11(0x172)](),_0x4c7d69['moveTo'](_0x3787ad+_0x1182c2,_0x5415d6-0x5*_0x264db9),_0x4c7d69[_0x1e5b11(0x29f)](_0x3787ad+_0x1182c2+0x32*_0x264db9,_0x5415d6-0x5*_0x264db9),_0x4c7d69[_0x1e5b11(0x234)](),_0x4c7d69['fillStyle']=_0x1e5b11(0x1d6),_0x4c7d69[_0x1e5b11(0x16d)](_0x1e5b11(0x19b),_0x3787ad+_0x1182c2+0x3c*_0x264db9,_0x5415d6),_0x5415d6+=_0x3c1112,_0x4c7d69[_0x1e5b11(0x16d)](_0x1e5b11(0x149),_0x3787ad+_0x1182c2,_0x5415d6),_0x5415d6+=_0x3c1112;for(const _0x37aa9b in lineConfig){const _0x413e6d=lineConfig[_0x37aa9b];_0x4c7d69[_0x1e5b11(0x274)]=_0x413e6d['color'],_0x4c7d69[_0x1e5b11(0x273)]=0x3*_0x264db9,_0x4c7d69[_0x1e5b11(0x172)](),_0x4c7d69[_0x1e5b11(0x184)](_0x3787ad+_0x1182c2,_0x5415d6-0x5*_0x264db9),_0x4c7d69['lineTo'](_0x3787ad+_0x1182c2+0x32*_0x264db9,_0x5415d6-0x5*_0x264db9),_0x4c7d69['stroke'](),_0x4c7d69[_0x1e5b11(0x16e)]=_0x1e5b11(0x1d6),_0x4c7d69[_0x1e5b11(0x16d)](':\x20'+_0x413e6d[_0x1e5b11(0x1fe)],_0x3787ad+_0x1182c2+0x3c*_0x264db9,_0x5415d6),_0x5415d6+=_0x3c1112;}_0x4c7d69[_0x1e5b11(0x16d)](_0x1e5b11(0x141),_0x3787ad+_0x1182c2,_0x5415d6),_0x5415d6+=_0x3c1112;for(const _0x272190 in markerConfig){const _0x506631=markerConfig[_0x272190],_0x31b334=_0x3787ad+_0x1182c2+0x19*_0x264db9,_0x57f5a9=_0x5415d6-0x5*_0x264db9;_0x4c7d69[_0x1e5b11(0x274)]=_0x506631[_0x1e5b11(0x1c5)],_0x4c7d69[_0x1e5b11(0x273)]=0x2*_0x264db9,_0x4c7d69[_0x1e5b11(0x172)](),_0x4c7d69[_0x1e5b11(0x28c)](_0x31b334,_0x57f5a9,0xc*_0x264db9,0x0,Math['PI']*0x2),_0x4c7d69[_0x1e5b11(0x234)](),_0x4c7d69[_0x1e5b11(0x233)]=0x14*_0x264db9+_0x1e5b11(0x29c),_0x4c7d69[_0x1e5b11(0x284)]=_0x1e5b11(0x1f0),_0x4c7d69['textBaseline']=_0x1e5b11(0x212),_0x4c7d69[_0x1e5b11(0x16d)](_0x506631[_0x1e5b11(0x1db)],_0x31b334,_0x57f5a9+0x2*_0x264db9),_0x4c7d69[_0x1e5b11(0x16e)]=_0x1e5b11(0x1d6),_0x4c7d69[_0x1e5b11(0x233)]=_0x1a8df3+_0x1e5b11(0x29c),_0x4c7d69['textAlign']='left',_0x4c7d69[_0x1e5b11(0x163)]='alphabetic',_0x4c7d69[_0x1e5b11(0x16d)](':\x20'+_0x506631['label'],_0x3787ad+_0x1182c2+0x3c*_0x264db9,_0x5415d6),_0x5415d6+=_0x3c1112;}const _0x22b07b=_0x5415d6-_0x38fee8+_0x1182c2;_0x4c7d69['strokeStyle']=_0x1e5b11(0x186),_0x4c7d69[_0x1e5b11(0x273)]=0x2*_0x264db9,_0x4c7d69['strokeRect'](_0x3787ad,_0x38fee8,_0x29439a,_0x22b07b);}function drawLegend(_0x5bde03,_0x499763,_0x4cf16f,_0x55c3a7){const _0xb80e2c=a0_0x962dcf,_0x1520fa=0xa*_0x55c3a7,_0x4bf5d8=0x1e*_0x55c3a7,_0x721302=0xa*_0x55c3a7,_0x162379=0x16*_0x55c3a7,_0x55658e=0x10*_0x55c3a7,_0x32eda3=0x384*_0x55c3a7;let _0x11111b=_0x4cf16f;_0x5bde03['fillStyle']=_0xb80e2c(0x1d6),_0x5bde03[_0xb80e2c(0x233)]=_0xb80e2c(0x169)+_0x162379+_0xb80e2c(0x29c),_0x5bde03[_0xb80e2c(0x284)]=_0xb80e2c(0x150),_0x5bde03['fillText'](_0xb80e2c(0x237),_0x499763+_0x1520fa,_0x11111b+_0x1520fa+0x5*_0x55c3a7),_0x11111b+=0x2*_0x1520fa+_0x162379+_0x721302;let _0x32720f=_0x11111b,_0x141bfd=_0x11111b;const _0x28c2a4=_0x499763+_0x32eda3/0x2;_0x5bde03[_0xb80e2c(0x233)]=_0xb80e2c(0x169)+_0x55658e+_0xb80e2c(0x29c),_0x5bde03['fillText'](_0xb80e2c(0x253),_0x499763+_0x1520fa,_0x32720f),_0x32720f+=_0x4bf5d8,_0x5bde03[_0xb80e2c(0x274)]=_0xb80e2c(0x20d),_0x5bde03[_0xb80e2c(0x273)]=0x3*_0x55c3a7,_0x5bde03[_0xb80e2c(0x18b)]([0xa*_0x55c3a7,0x5*_0x55c3a7]),_0x5bde03['beginPath'](),_0x5bde03['moveTo'](_0x499763+_0x1520fa,_0x32720f-0x5*_0x55c3a7),_0x5bde03[_0xb80e2c(0x29f)](_0x499763+_0x1520fa+0x32*_0x55c3a7,_0x32720f-0x5*_0x55c3a7),_0x5bde03[_0xb80e2c(0x234)](),_0x5bde03[_0xb80e2c(0x18b)]([]),_0x5bde03[_0xb80e2c(0x16e)]=_0xb80e2c(0x1d6),_0x5bde03['font']=_0x55658e+_0xb80e2c(0x29c),_0x5bde03[_0xb80e2c(0x16d)](_0xb80e2c(0x1c1),_0x499763+_0x1520fa+0x3c*_0x55c3a7,_0x32720f),_0x32720f+=_0x4bf5d8,_0x5bde03['strokeStyle']='#3b82f6',_0x5bde03[_0xb80e2c(0x273)]=0x3*_0x55c3a7,_0x5bde03[_0xb80e2c(0x172)](),_0x5bde03[_0xb80e2c(0x184)](_0x499763+_0x1520fa,_0x32720f-0x5*_0x55c3a7),_0x5bde03['lineTo'](_0x499763+_0x1520fa+0x32*_0x55c3a7,_0x32720f-0x5*_0x55c3a7),_0x5bde03[_0xb80e2c(0x234)](),_0x5bde03[_0xb80e2c(0x16e)]=_0xb80e2c(0x1d6),_0x5bde03[_0xb80e2c(0x16d)](':\x20Existing\x20Line/Span',_0x499763+_0x1520fa+0x3c*_0x55c3a7,_0x32720f),_0x32720f+=_0x4bf5d8,_0x32720f+=_0x721302,_0x5bde03[_0xb80e2c(0x233)]=_0xb80e2c(0x169)+_0x55658e+_0xb80e2c(0x29c),_0x5bde03[_0xb80e2c(0x16d)](_0xb80e2c(0x149),_0x499763+_0x1520fa,_0x32720f),_0x32720f+=_0x4bf5d8,_0x5bde03['font']=_0x55658e+_0xb80e2c(0x29c);if(typeof lineConfig!==_0xb80e2c(0x29d))for(const _0x226af4 in lineConfig){const _0x13fd84=lineConfig[_0x226af4];_0x5bde03['strokeStyle']=_0x13fd84[_0xb80e2c(0x1c5)],_0x5bde03[_0xb80e2c(0x273)]=0x3*_0x55c3a7,_0x5bde03[_0xb80e2c(0x172)](),_0x5bde03['moveTo'](_0x499763+_0x1520fa,_0x32720f-0x5*_0x55c3a7),_0x5bde03[_0xb80e2c(0x29f)](_0x499763+_0x1520fa+0x32*_0x55c3a7,_0x32720f-0x5*_0x55c3a7),_0x5bde03[_0xb80e2c(0x234)](),_0x5bde03[_0xb80e2c(0x16e)]='#1f2937',_0x5bde03[_0xb80e2c(0x16d)](':\x20'+_0x13fd84[_0xb80e2c(0x1fe)],_0x499763+_0x1520fa+0x3c*_0x55c3a7,_0x32720f),_0x32720f+=_0x4bf5d8;}const _0x6d78f0=_0x32720f-_0x11111b;_0x5bde03[_0xb80e2c(0x233)]=_0xb80e2c(0x169)+_0x55658e+_0xb80e2c(0x29c),_0x5bde03[_0xb80e2c(0x16d)]('MARKER\x20TYPES',_0x28c2a4+_0x1520fa,_0x141bfd),_0x141bfd+=_0x4bf5d8,_0x5bde03[_0xb80e2c(0x233)]=_0x55658e+_0xb80e2c(0x29c);if(typeof markerConfig!==_0xb80e2c(0x29d))for(const _0x388f35 in markerConfig){const _0x407e61=markerConfig[_0x388f35],_0xe3c235=_0x28c2a4+_0x1520fa+0x19*_0x55c3a7,_0x4d4e2a=_0x141bfd-0x5*_0x55c3a7;_0x5bde03[_0xb80e2c(0x274)]=_0x407e61[_0xb80e2c(0x1c5)],_0x5bde03['lineWidth']=0x2*_0x55c3a7,_0x5bde03[_0xb80e2c(0x172)](),_0x5bde03[_0xb80e2c(0x28c)](_0xe3c235,_0x4d4e2a,0xc*_0x55c3a7,0x0,Math['PI']*0x2),_0x5bde03[_0xb80e2c(0x234)](),_0x5bde03[_0xb80e2c(0x233)]=0x14*_0x55c3a7+'px\x20Arial',_0x5bde03[_0xb80e2c(0x284)]=_0xb80e2c(0x1f0),_0x5bde03[_0xb80e2c(0x163)]=_0xb80e2c(0x212),_0x5bde03[_0xb80e2c(0x16d)](_0x407e61[_0xb80e2c(0x1db)],_0xe3c235,_0x4d4e2a+0x2*_0x55c3a7),_0x5bde03['fillStyle']='#1f2937',_0x5bde03[_0xb80e2c(0x233)]=_0x55658e+'px\x20Arial',_0x5bde03[_0xb80e2c(0x284)]='left',_0x5bde03[_0xb80e2c(0x163)]=_0xb80e2c(0x25b),_0x5bde03[_0xb80e2c(0x16d)](':\x20'+_0x407e61['label'],_0x28c2a4+_0x1520fa+0x3c*_0x55c3a7,_0x141bfd),_0x141bfd+=_0x4bf5d8;}const _0x369083=_0x141bfd-_0x11111b,_0x431d65=Math['max'](_0x6d78f0,_0x369083),_0x43afa4=_0x11111b-_0x4cf16f+_0x431d65+_0x1520fa;_0x5bde03[_0xb80e2c(0x274)]=_0xb80e2c(0x186),_0x5bde03['lineWidth']=0x2*_0x55c3a7,_0x5bde03[_0xb80e2c(0x20b)](_0x499763,_0x4cf16f,_0x32eda3+0x2*_0x1520fa,_0x43afa4);}async function exportToPNG(){const _0x8f92a1=a0_0x962dcf,_0x253ee0=document[_0x8f92a1(0x1c9)]('mapCanvas');if(markers[_0x8f92a1(0x241)]===0x0){alert('Please\x20add\x20markers\x20before\x20exporting\x20the\x20map.');return;}const _0x13c344=_0x253ee0[_0x8f92a1(0x200)],_0x672af0=_0x253ee0[_0x8f92a1(0x1f7)],_0x96dbed=0xaf0,_0x5240f1=0x64,_0x23b649=_0x96dbed-0x2*_0x5240f1,_0x3b6fb3=0x96,_0x46bcbf=_0x96dbed/0x4b0,_0x4dfa06=0x320;_0x253ee0['width']=_0x4dfa06,drawMap();const _0x21a9ad=_0x253ee0[_0x8f92a1(0x1f7)],_0x58de2e=_0x23b649*(_0x21a9ad/_0x4dfa06),_0x420818=_0x3b6fb3*_0x46bcbf,_0x298446=0x1e*_0x46bcbf,_0x4d1da3=0x32*_0x46bcbf,_0x3752aa=typeof lineConfig!=='undefined'?Object[_0x8f92a1(0x1e1)](lineConfig)[_0x8f92a1(0x241)]:0x5,_0x217b17=0x1+0x1+0x2+0x1+_0x3752aa,_0x2f4fcb=_0x217b17*_0x298446+_0x4d1da3,_0x450bdc=_0x420818+_0x58de2e+_0x5240f1+_0x2f4fcb+_0x5240f1,_0x39d6c5=document[_0x8f92a1(0x208)](_0x8f92a1(0x248));_0x39d6c5[_0x8f92a1(0x200)]=_0x96dbed,_0x39d6c5[_0x8f92a1(0x1f7)]=_0x450bdc;const _0x15d19e=_0x39d6c5[_0x8f92a1(0x211)]('2d');_0x15d19e['fillStyle']=_0x8f92a1(0x2a7),_0x15d19e[_0x8f92a1(0x204)](0x0,0x0,_0x39d6c5[_0x8f92a1(0x200)],_0x39d6c5[_0x8f92a1(0x1f7)]),_0x15d19e[_0x8f92a1(0x16e)]='#1f2937',_0x15d19e[_0x8f92a1(0x233)]=_0x8f92a1(0x169)+0x24*_0x46bcbf+_0x8f92a1(0x29c),_0x15d19e[_0x8f92a1(0x284)]=_0x8f92a1(0x1f0),_0x15d19e[_0x8f92a1(0x16d)]('Electrical\x20Line\x20Survey\x20Report',_0x96dbed/0x2,0x46*_0x46bcbf),_0x15d19e[_0x8f92a1(0x233)]=0x12*_0x46bcbf+_0x8f92a1(0x29c),_0x15d19e['textAlign']=_0x8f92a1(0x150),_0x15d19e[_0x8f92a1(0x16d)](_0x8f92a1(0x19e)+siteName,_0x5240f1,0x6e*_0x46bcbf),_0x15d19e[_0x8f92a1(0x16d)](_0x8f92a1(0x138)+totalDistance[_0x8f92a1(0x147)](0x1)+'m',_0x5240f1,0x87*_0x46bcbf),_0x15d19e[_0x8f92a1(0x269)](_0x253ee0,_0x5240f1,_0x420818,_0x23b649,_0x58de2e);const _0x3fb9bb=_0x5240f1,_0x2cdc42=_0x420818+_0x58de2e+_0x5240f1;drawLegend(_0x15d19e,_0x3fb9bb,_0x2cdc42,_0x46bcbf),_0x253ee0[_0x8f92a1(0x200)]=_0x13c344,_0x253ee0[_0x8f92a1(0x1f7)]=_0x672af0,drawMap();const _0x2ace5b=_0x39d6c5[_0x8f92a1(0x25c)]('image/png'),_0xdaba26=_0x2ace5b[_0x8f92a1(0x198)](',')[0x1],_0x253f7c=siteName['replace'](/[^a-z0-9]/gi,'_')+_0x8f92a1(0x261)+Date['now']()+_0x8f92a1(0x15b);await saveFileCapacitor(_0x253f7c,_0xdaba26,_0x8f92a1(0x179)),alert('PNG\x20saved\x20successfully!');}async function exportToCSV(){const _0x5a48b5=a0_0x962dcf;if(markers['length']===0x0){alert('No\x20markers\x20to\x20export.');return;}let _0x3c0eba=_0x5a48b5(0x292),_0xc74631=0x0;markers['forEach']((_0x168a7f,_0x3911b6)=>{const _0x5b1b8e=_0x5a48b5,_0x170565=(markerConfig[_0x168a7f[_0x5b1b8e(0x15e)]]||{'label':_0x5b1b8e(0x154)})[_0x5b1b8e(0x1fe)],_0x55e3e9=lineConfig[_0x168a7f[_0x5b1b8e(0x192)]]||{'label':_0x5b1b8e(0x142)},_0x5308c7=conductorConfig[_0x168a7f[_0x5b1b8e(0x201)]]||{'label':_0x5b1b8e(0x168)},_0x4bf1d1=_0x168a7f[_0x5b1b8e(0x26c)]===_0x5b1b8e(0x231)?_0x5b1b8e(0x252):_0x5b1b8e(0x23d);let _0x16bb39='',_0xa64d5a='';if(_0x3911b6>0x0&&_0x168a7f[_0x5b1b8e(0x2b2)]&&!_0x168a7f['isLineBreak'])_0x16bb39=_0x168a7f[_0x5b1b8e(0x2b2)][_0x5b1b8e(0x147)](0x2)+'m',_0xc74631+=_0x168a7f[_0x5b1b8e(0x2b2)];else{if(_0x168a7f['isLineBreak']&&_0x168a7f[_0x5b1b8e(0x21b)]&&_0x168a7f[_0x5b1b8e(0x2b2)]>0x0){_0x16bb39=_0x168a7f[_0x5b1b8e(0x2b2)]['toFixed'](0x2)+'m';const _0x52daa2=markers[_0x5b1b8e(0x250)](_0xfda8fd=>_0xfda8fd['id']===_0x168a7f[_0x5b1b8e(0x21b)]);_0xa64d5a=_0x5b1b8e(0x21e)+(_0x52daa2+0x1),_0xc74631+=_0x168a7f['spanLength'];}else _0x168a7f[_0x5b1b8e(0x1f8)]&&(_0x16bb39=_0x5b1b8e(0x249));}const _0x22a8e=[siteName,_0x4bf1d1,_0x3911b6>0x0?'#'+_0x3911b6+'‚Üí#'+(_0x3911b6+0x1):_0x5b1b8e(0x22a),_0x3911b6+0x1,_0x170565,_0x168a7f[_0x5b1b8e(0x28d)]||'',_0x168a7f[_0x5b1b8e(0x192)]||'',_0x5308c7[_0x5b1b8e(0x1fe)]||'',_0x168a7f[_0x5b1b8e(0x16c)],_0x168a7f[_0x5b1b8e(0x29a)],_0x16bb39,_0xa64d5a,_0xc74631['toFixed'](0x2),_0x168a7f['isLineBreak']][_0x5b1b8e(0x1b3)](_0x30e363=>'\x22'+_0x30e363+'\x22')[_0x5b1b8e(0x17a)](',');_0x3c0eba+=_0x22a8e+'\x0a';});const _0x3ad082=btoa(unescape(encodeURIComponent(_0x3c0eba))),_0x2cbd9e=siteName[_0x5a48b5(0x180)](/[^a-z0-9]/gi,'_')+'-data-v3-8-dynamic-'+Date[_0x5a48b5(0x1f3)]()+_0x5a48b5(0x1b1);await saveFileCapacitor(_0x2cbd9e,_0x3ad082,_0x5a48b5(0x247)),alert(_0x5a48b5(0x2b9));}function clearAll(){const _0xf2a3cf=a0_0x962dcf;if(!confirm('Are\x20you\x20sure\x20you\x20want\x20to\x20clear\x20all\x20survey\x20data\x20(points\x20and\x20markers)?\x20This\x20cannot\x20be\x20undone.'))return;stopTracking(),linePoints=[],markers=[],totalDistance=0x0,currentPosition=null,accuracy=null,startFromMarkerIndex=null,startFromMarkerPosition=null,document[_0xf2a3cf(0x1c9)](_0xf2a3cf(0x2ad))[_0xf2a3cf(0x24f)]=_0xf2a3cf(0x277),siteName=_0xf2a3cf(0x277),updateTotalDistance(),updateUI(),updateMarkersList(),drawMap(),initLeafletMap(),gpsStatusElement['textContent']=_0xf2a3cf(0x271),gpsStatusElement['style'][_0xf2a3cf(0x1c5)]='#3b82f6',alert('All\x20data\x20cleared.');}function openManualPopup(_0x3589bc){const _0x53a61d=a0_0x962dcf,_0xdb6e15=0x320,_0x40f360=0x258,_0x55fd8b=screen[_0x53a61d(0x200)]/0x2-_0xdb6e15/0x2,_0x1828c7=screen[_0x53a61d(0x1f7)]/0x2-_0x40f360/0x2,_0x2bcd9c='width='+_0xdb6e15+',height='+_0x40f360+_0x53a61d(0x1d5)+_0x1828c7+_0x53a61d(0x140)+_0x55fd8b+_0x53a61d(0x25d);window['open'](_0x3589bc,'UserManualPopup',_0x2bcd9c);}document[a0_0x962dcf(0x275)](a0_0x962dcf(0x13b),()=>{const _0x2eb3e8=a0_0x962dcf,_0x46a215=document[_0x2eb3e8(0x220)](_0x2eb3e8(0x19f));if(_0x46a215)selectedSurveyType=_0x46a215[_0x2eb3e8(0x24f)];const _0x4490ba=document[_0x2eb3e8(0x220)](_0x2eb3e8(0x243));_0x4490ba&&(selectedLineSubtype=_0x4490ba[_0x2eb3e8(0x24f)],selectedLineMainType=_0x4490ba[_0x2eb3e8(0x1ae)](_0x2eb3e8(0x13e))||'HT'),populateConductorType(),updateMarkerSelectors(),drawMap(),initLeafletMap();});
</script>
<script>
    document.addEventListener("contextmenu",e=>e.preventDefault());
    document.onkeydown=e=>{
      if(e.keyCode===123||(e.ctrlKey&&e.shiftKey&&e.keyCode===73)) return false;
    };
</script>
<script>
    document.addEventListener("contextmenu", function (e) {
      e.preventDefault();
      return false;
    });
</script>

</body>
</html>
